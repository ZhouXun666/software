{"version":3,"file":"js/867.0b0f6a38.js","mappings":"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","sources":["webpack://secondhand-frontend/./src/views/TradeList.vue","webpack://secondhand-frontend/./src/views/TradeList.vue?aab6","webpack://secondhand-frontend/./src/api/index.js"],"sourcesContent":["<template>\n  <div class=\"trade-list-container\">\n    <el-card class=\"trade-card\">\n      <template #header>\n        <div class=\"card-header\">\n          <span>交易列表</span>\n        </div>\n      </template>\n      \n      <div class=\"search-filter\">\n        <el-input\n          v-model=\"searchQuery\"\n          placeholder=\"搜索交易编号或商品名称\"\n          prefix-icon=\"el-icon-search\"\n          class=\"search-input\"\n          clearable\n        />\n        <el-select v-model=\"tradeStatus\" placeholder=\"交易状态\" clearable class=\"status-select\">\n          <el-option label=\"全部\" value=\"\" />\n          <el-option label=\"待接受\" value=\"1\" />\n          <el-option label=\"已接受\" value=\"2\" />\n          <el-option label=\"交易中\" value=\"3\" />\n          <el-option label=\"已完成\" value=\"4\" />\n          <el-option label=\"已取消\" value=\"5\" />\n          <el-option label=\"已拒绝\" value=\"6\" />\n        </el-select>\n        <el-date-picker\n          v-model=\"dateRange\"\n          type=\"daterange\"\n          range-separator=\"至\"\n          start-placeholder=\"开始日期\"\n          end-placeholder=\"结束日期\"\n          clearable\n          class=\"date-picker\"\n        />\n      </div>\n      \n      <el-table\n        v-loading=\"loading\"\n        :data=\"filteredTrades\"\n        style=\"width: 100%\"\n        :empty-text=\"emptyText\"\n      >\n        <el-table-column prop=\"id\" label=\"交易编号\" width=\"120\" />\n        <el-table-column prop=\"productName\" label=\"商品信息\" min-width=\"200\">\n          <template #default=\"scope\">\n            <div class=\"product-info\">\n              <img :src=\"getProductImage(scope.row.product)\" class=\"product-thumbnail\" />\n              <div class=\"product-details\">\n                <div class=\"product-name\">{{ scope.row.productName }}</div>\n                <div class=\"product-price\">¥{{ scope.row.price }}</div>\n              </div>\n            </div>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"buyerName\" label=\"买家\" width=\"120\">\n          <template #default=\"scope\">\n            <span>{{ scope.row.buyerName || '未知买家' }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"sellerName\" label=\"卖家\" width=\"120\">\n          <template #default=\"scope\">\n            <span>{{ scope.row.sellerName || '未知卖家' }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"status\" label=\"状态\" width=\"100\">\n          <template #default=\"scope\">\n            <el-tag :type=\"getStatusType(scope.row.status)\">\n              {{ getStatusText(scope.row.status) }}\n            </el-tag>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"createdTime\" label=\"创建时间\" width=\"180\" />\n        <el-table-column prop=\"updatedTime\" label=\"更新时间\" width=\"180\" />\n        <el-table-column label=\"操作\" width=\"120\" fixed=\"right\">\n          <template #default=\"scope\">\n            <el-button type=\"primary\" size=\"small\" @click=\"viewTrade(scope.row.id)\">\n              详情\n            </el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n      \n      <div class=\"pagination-container\">\n        <el-pagination\n          v-model:current-page=\"currentPage\"\n          v-model:page-size=\"pageSize\"\n          :page-sizes=\"[10, 20, 50, 100]\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"total\"\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n        />\n      </div>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport { tradeAPI, productAPI } from '../api'\n\nexport default {\n  name: 'TradeList',\n  data() {\n    return {\n      trades: [],\n      loading: false,\n      searchQuery: '',\n      tradeStatus: '',\n      dateRange: [],\n      currentPage: 1,\n      pageSize: 10,\n      total: 0,\n      productCache: {}\n    }\n  },\n  computed: {\n    filteredTrades() {\n      let filtered = this.trades\n      \n      // 搜索过滤\n      if (this.searchQuery) {\n        filtered = filtered.filter(trade => \n          trade.id.toString().includes(this.searchQuery) ||\n          trade.productName.toLowerCase().includes(this.searchQuery.toLowerCase())\n        )\n      }\n      \n      // 状态过滤\n      if (this.tradeStatus !== '') {\n        filtered = filtered.filter(trade => trade.status.toString() === this.tradeStatus)\n      }\n      \n      // 日期范围过滤\n      if (this.dateRange && this.dateRange.length === 2) {\n        const [startDate, endDate] = this.dateRange\n        filtered = filtered.filter(trade => {\n          const tradeDate = new Date(trade.createdTime)\n          return tradeDate >= startDate && tradeDate <= endDate\n        })\n      }\n      \n      // 计算总数\n      this.total = filtered.length\n      \n      // 分页\n      const startIndex = (this.currentPage - 1) * this.pageSize\n      const endIndex = startIndex + this.pageSize\n      return filtered.slice(startIndex, endIndex)\n    },\n    emptyText() {\n      if (this.loading) return '加载中...'\n      return '暂无交易记录'\n    }\n  },\n  mounted() {\n    this.loadTrades()\n  },\n  watch: {\n    searchQuery() {\n      this.currentPage = 1\n    },\n    tradeStatus() {\n      this.currentPage = 1\n    },\n    dateRange() {\n      this.currentPage = 1\n    }\n  },\n  methods: {\n    async loadTrades() {\n      this.loading = true\n      try {\n        // 获取所有交易记录\n        const response = await tradeAPI.getAllTrades()\n        \n        // 格式化数据\n        this.trades = response.map(async trade => {\n          // 获取商品信息\n          if (trade.productId && !this.productCache[trade.productId]) {\n            try {\n              const product = await productAPI.getProduct(trade.productId)\n              this.productCache[trade.productId] = product\n            } catch (error) {\n              console.error('Failed to load product details:', error)\n              this.productCache[trade.productId] = { name: '未知商品', images: [] }\n            }\n          }\n          \n          const productInfo = this.productCache[trade.productId] || { name: '未知商品', images: [] }\n          \n          return {\n            ...trade,\n            productName: productInfo.name,\n            product: productInfo,\n            createdTime: this.formatDate(trade.createdTime),\n            updatedTime: this.formatDate(trade.updatedTime)\n          }\n        })\n        \n        // 等待所有异步操作完成\n        this.trades = await Promise.all(this.trades)\n      } catch (error) {\n        this.$message.error('加载交易列表失败')\n        this.trades = []\n      } finally {\n        this.loading = false\n      }\n    },\n    getProductImage(product) {\n      if (!product || !product.images) return 'https://img.alicdn.com/imgextra/i4/O1CN01q0UcHt1h1sVt0jA8O_!!6000000004122-2-tps-112-112.png'\n      const imageArray = typeof product.images === 'string' ? JSON.parse(product.images) : product.images\n      return imageArray && imageArray.length > 0 ? imageArray[0] : 'https://img.alicdn.com/imgextra/i4/O1CN01q0UcHt1h1sVt0jA8O_!!6000000004122-2-tps-112-112.png'\n    },\n    getStatusType(status) {\n      const statusTypes = {\n        1: 'info',    // 待接受\n        2: 'primary', // 已接受\n        3: 'warning', // 交易中\n        4: 'success', // 已完成\n        5: 'danger',  // 已取消\n        6: 'danger'   // 已拒绝\n      }\n      return statusTypes[status] || 'default'\n    },\n    getStatusText(status) {\n      const statusTexts = {\n        1: '待接受',\n        2: '已接受',\n        3: '交易中',\n        4: '已完成',\n        5: '已取消',\n        6: '已拒绝'\n      }\n      return statusTexts[status] || '未知'\n    },\n    formatDate(dateString) {\n      if (!dateString) return ''\n      const date = new Date(dateString)\n      return date.toLocaleString('zh-CN')\n    },\n    viewTrade(tradeId) {\n      this.$router.push(`/trade/${tradeId}`)\n    },\n    handleSizeChange(size) {\n      this.pageSize = size\n    },\n    handleCurrentChange(current) {\n      this.currentPage = current\n    }\n  }\n}\n</script>\n\n<style scoped>\n.trade-list-container {\n  padding: 0;\n}\n\n.trade-card {\n  max-width: 1200px;\n  margin: 0 auto;\n}\n\n.card-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-size: 18px;\n  font-weight: 500;\n  color: #303133;\n}\n\n.search-filter {\n  display: flex;\n  gap: 15px;\n  margin-bottom: 20px;\n  flex-wrap: wrap;\n}\n\n.search-input {\n  width: 300px;\n}\n\n.status-select {\n  width: 150px;\n}\n\n.date-picker {\n  width: 280px;\n}\n\n.product-info {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n}\n\n.product-thumbnail {\n  width: 50px;\n  height: 50px;\n  object-fit: cover;\n  border-radius: 4px;\n}\n\n.product-details {\n  flex: 1;\n  overflow: hidden;\n}\n\n.product-name {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  font-weight: 500;\n}\n\n.product-price {\n  color: #f56c6c;\n  font-size: 14px;\n}\n\n.pagination-container {\n  margin-top: 20px;\n  display: flex;\n  justify-content: flex-end;\n}\n\n@media (max-width: 768px) {\n  .trade-card {\n    max-width: 100%;\n  }\n  \n  .search-filter {\n    flex-direction: column;\n  }\n  \n  .search-input,\n  .status-select,\n  .date-picker {\n    width: 100%;\n  }\n}\n</style>","import { render } from \"./TradeList.vue?vue&type=template&id=4607cb78&scoped=true\"\nimport script from \"./TradeList.vue?vue&type=script&lang=js\"\nexport * from \"./TradeList.vue?vue&type=script&lang=js\"\n\nimport \"./TradeList.vue?vue&type=style&index=0&id=4607cb78&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4607cb78\"]])\n\nexport default __exports__","import axios from 'axios'\n\n// 用户相关API\nexport const userAPI = {\n  // 用户注册\n  register: (data) => {\n    return axios.post('/users/register', data)\n  },\n  \n  // 用户登录\n  login: (data) => {\n    return axios.post('/users/login', data)\n  },\n  \n  // 获取当前用户信息\n  getCurrentUser: () => {\n    return axios.get('/users/me')\n  },\n  \n  // 更新用户信息\n  updateUser: (data) => {\n    return axios.put('/users/me', data)\n  },\n  \n  // 获取用户列表（管理员）\n  getUsers: (params) => {\n    return axios.get('/users', { params })\n  }\n}\n\n// 商品相关API\nexport const productAPI = {\n  // 创建商品\n  createProduct: (data) => {\n    return axios.post('/products', data)\n  },\n  \n  // 获取商品列表\n  getProducts: (params) => {\n    return axios.get('/products', { params })\n  },\n  \n  // 获取商品详情\n  getProductById: (id) => {\n    return axios.get(`/products/${id}`)\n  },\n  \n  // 更新商品\n  updateProduct: (id, data) => {\n    return axios.put(`/products/${id}`, data)\n  },\n  \n  // 删除商品\n  deleteProduct: (id) => {\n    return axios.delete(`/products/${id}`)\n  },\n  \n  // 获取我的商品\n  getMyProducts: () => {\n    return axios.get('/products/my')\n  },\n  \n  // 搜索商品\n  searchProducts: (keyword) => {\n    return axios.get('/products/search', { params: { keyword } })\n  }\n}\n\n// 交易相关API\nexport const tradeAPI = {\n  // 申请交易\n  applyTrade: (data) => {\n    return axios.post('/trades/apply', data)\n  },\n  \n  // 接受交易\n  acceptTrade: (id) => {\n    return axios.post(`/trades/${id}/accept`)\n  },\n  \n  // 拒绝交易\n  rejectTrade: (id) => {\n    return axios.post(`/trades/${id}/reject`)\n  },\n  \n  // 取消交易\n  cancelTrade: (id) => {\n    return axios.post(`/trades/${id}/cancel`)\n  },\n  \n  // 完成交易\n  completeTrade: (id) => {\n    return axios.post(`/trades/${id}/complete`)\n  },\n  \n  // 获取交易详情\n  getTradeById: (id) => {\n    return axios.get(`/trades/${id}`)\n  },\n  \n  // 获取我作为买家的交易\n  getMyBuyTrades: () => {\n    const userInfo = JSON.parse(localStorage.getItem('userInfo'))\n    return axios.get(`/trades/buyer/${userInfo?.id}`)\n  },\n  \n  // 获取我作为卖家的交易\n  getMySellTrades: () => {\n    const userInfo = JSON.parse(localStorage.getItem('userInfo'))\n    return axios.get(`/trades/seller/${userInfo?.id}`)\n  },\n  \n  // 获取商品的交易记录\n  getProductTrades: (productId) => {\n    return axios.get(`/trades/product/${productId}`)\n  }\n}\n\n// 上传图片API\nexport const uploadAPI = {\n  // 上传图片\n  uploadImage: (formData) => {\n    return axios.post('/upload/image', formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    })\n  }\n}"],"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_el_card","header","_withCtx","_cache","_createElementVNode","_hoisted_2","_component_el_input","$data","searchQuery","$event","placeholder","clearable","_component_el_select","tradeStatus","_component_el_option","label","value","_component_el_date_picker","dateRange","type","_createBlock","_component_el_table","data","$options","filteredTrades","style","emptyText","_component_el_table_column","prop","width","default","scope","_hoisted_3","src","getProductImage","row","product","_hoisted_5","_hoisted_6","_toDisplayString","productName","_hoisted_7","price","buyerName","sellerName","_component_el_tag","getStatusType","status","getStatusText","fixed","_component_el_button","size","onClick","viewTrade","id","loading","_hoisted_8","_component_el_pagination","currentPage","pageSize","layout","total","onSizeChange","handleSizeChange","onCurrentChange","handleCurrentChange","name","trades","productCache","computed","filtered","this","filter","trade","toString","includes","toLowerCase","length","startDate","endDate","tradeDate","Date","createdTime","startIndex","endIndex","slice","mounted","loadTrades","watch","methods","response","tradeAPI","getAllTrades","map","async","productId","productAPI","getProduct","error","console","images","productInfo","formatDate","updatedTime","Promise","all","$message","imageArray","JSON","parse","statusTypes","statusTexts","dateString","date","toLocaleString","tradeId","$router","push","current","__exports__","render","userAPI","register","axios","post","login","getCurrentUser","get","updateUser","put","getUsers","params","createProduct","getProducts","getProductById","updateProduct","deleteProduct","delete","getMyProducts","searchProducts","keyword","applyTrade","acceptTrade","rejectTrade","cancelTrade","completeTrade","getTradeById","getMyBuyTrades","userInfo","localStorage","getItem","getMySellTrades","getProductTrades"],"sourceRoot":""}