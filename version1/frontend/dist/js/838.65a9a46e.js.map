{"version":3,"file":"js/838.65a9a46e.js","mappings":"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","sources":["webpack://secondhand-frontend/./src/api/index.js","webpack://secondhand-frontend/./src/views/UserInfo.vue","webpack://secondhand-frontend/./src/views/UserInfo.vue?8e17"],"sourcesContent":["import axios from 'axios'\n\n// 用户相关API\nexport const userAPI = {\n  // 用户注册\n  register: (data) => {\n    return axios.post('/users/register', data)\n  },\n  \n  // 用户登录\n  login: (data) => {\n    return axios.post('/users/login', data)\n  },\n  \n  // 获取当前用户信息\n  getCurrentUser: () => {\n    return axios.get('/users/me')\n  },\n  \n  // 更新用户信息\n  updateUser: (data) => {\n    return axios.put('/users/me', data)\n  },\n  \n  // 获取用户列表（管理员）\n  getUsers: (params) => {\n    return axios.get('/users', { params })\n  }\n}\n\n// 商品相关API\nexport const productAPI = {\n  // 创建商品\n  createProduct: (data) => {\n    return axios.post('/products', data)\n  },\n  \n  // 获取商品列表\n  getProducts: (params) => {\n    return axios.get('/products', { params })\n  },\n  \n  // 获取商品详情\n  getProductById: (id) => {\n    return axios.get(`/products/${id}`)\n  },\n  \n  // 更新商品\n  updateProduct: (id, data) => {\n    return axios.put(`/products/${id}`, data)\n  },\n  \n  // 删除商品\n  deleteProduct: (id) => {\n    return axios.delete(`/products/${id}`)\n  },\n  \n  // 获取我的商品\n  getMyProducts: () => {\n    return axios.get('/products/my')\n  },\n  \n  // 搜索商品\n  searchProducts: (keyword) => {\n    return axios.get('/products/search', { params: { keyword } })\n  }\n}\n\n// 交易相关API\nexport const tradeAPI = {\n  // 申请交易\n  applyTrade: (data) => {\n    return axios.post('/trades/apply', data)\n  },\n  \n  // 接受交易\n  acceptTrade: (id) => {\n    return axios.post(`/trades/${id}/accept`)\n  },\n  \n  // 拒绝交易\n  rejectTrade: (id) => {\n    return axios.post(`/trades/${id}/reject`)\n  },\n  \n  // 取消交易\n  cancelTrade: (id) => {\n    return axios.post(`/trades/${id}/cancel`)\n  },\n  \n  // 完成交易\n  completeTrade: (id) => {\n    return axios.post(`/trades/${id}/complete`)\n  },\n  \n  // 获取交易详情\n  getTradeById: (id) => {\n    return axios.get(`/trades/${id}`)\n  },\n  \n  // 获取我作为买家的交易\n  getMyBuyTrades: () => {\n    const userInfo = JSON.parse(localStorage.getItem('userInfo'))\n    return axios.get(`/trades/buyer/${userInfo?.id}`)\n  },\n  \n  // 获取我作为卖家的交易\n  getMySellTrades: () => {\n    const userInfo = JSON.parse(localStorage.getItem('userInfo'))\n    return axios.get(`/trades/seller/${userInfo?.id}`)\n  },\n  \n  // 获取商品的交易记录\n  getProductTrades: (productId) => {\n    return axios.get(`/trades/product/${productId}`)\n  }\n}\n\n// 上传图片API\nexport const uploadAPI = {\n  // 上传图片\n  uploadImage: (formData) => {\n    return axios.post('/upload/image', formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    })\n  }\n}","<template>\n  <div class=\"user-info-container\">\n    <el-card class=\"user-info-card\">\n      <template #header>\n        <div class=\"card-header\">\n          <span>个人信息</span>\n          <el-button type=\"primary\" @click=\"goToEdit\" class=\"edit-btn\">\n            <el-icon><Edit /></el-icon>\n            编辑资料\n          </el-button>\n        </div>\n      </template>\n      \n      <div class=\"user-profile\" v-if=\"userInfo\">\n        <div class=\"avatar-section\">\n          <el-avatar\n            :size=\"120\"\n            :src=\"userInfo.avatar || 'https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png'\"\n            class=\"user-avatar\"\n          >\n            {{ userInfo.username ? userInfo.username.charAt(0).toUpperCase() : 'U' }}\n          </el-avatar>\n          <div class=\"user-name\">{{ userInfo.username }}</div>\n          <div class=\"user-role\">{{ userRole }}</div>\n        </div>\n        \n        <div class=\"info-section\">\n          <h3 class=\"section-title\">基本信息</h3>\n          <el-descriptions border :column=\"{ xs: 1, sm: 2 }\">\n            <el-descriptions-item label=\"用户ID\">{{ userInfo.id || '-' }}</el-descriptions-item>\n            <el-descriptions-item label=\"昵称\">{{ userInfo.nickname || '未设置' }}</el-descriptions-item>\n            <el-descriptions-item label=\"性别\">{{ userGender }}</el-descriptions-item>\n            <el-descriptions-item label=\"邮箱\">{{ userInfo.email || '未设置' }}</el-descriptions-item>\n            <el-descriptions-item label=\"手机号码\">{{ userInfo.phone || '未设置' }}</el-descriptions-item>\n            <el-descriptions-item label=\"个性签名\">{{ userInfo.bio || '未设置' }}</el-descriptions-item>\n            <el-descriptions-item label=\"注册时间\">{{ formatDate(userInfo.createdTime) }}</el-descriptions-item>\n            <el-descriptions-item label=\"最后登录\">{{ formatDate(userInfo.lastLoginTime) }}</el-descriptions-item>\n          </el-descriptions>\n        </div>\n        \n        <div class=\"stats-section\">\n          <h3 class=\"section-title\">账户统计</h3>\n          <div class=\"stats-grid\">\n            <div class=\"stat-item\">\n              <div class=\"stat-value\">{{ userStats.totalProducts || 0 }}</div>\n              <div class=\"stat-label\">发布商品</div>\n            </div>\n            <div class=\"stat-item\">\n              <div class=\"stat-value\">{{ userStats.activeProducts || 0 }}</div>\n              <div class=\"stat-label\">在售商品</div>\n            </div>\n            <div class=\"stat-item\">\n              <div class=\"stat-value\">{{ userStats.initiatedTrades || 0 }}</div>\n              <div class=\"stat-label\">发起交易</div>\n            </div>\n            <div class=\"stat-item\">\n              <div class=\"stat-value\">{{ userStats.receivedTrades || 0 }}</div>\n              <div class=\"stat-label\">收到交易</div>\n            </div>\n            <div class=\"stat-item\">\n              <div class=\"stat-value\">{{ userStats.completedTrades || 0 }}</div>\n              <div class=\"stat-label\">完成交易</div>\n            </div>\n          </div>\n        </div>\n        \n        <div class=\"recent-activities\">\n          <h3 class=\"section-title\">最近活动</h3>\n          <div v-if=\"recentActivities.length > 0\" class=\"activities-list\">\n            <div v-for=\"activity in recentActivities\" :key=\"activity.id\" class=\"activity-item\">\n              <div class=\"activity-icon\">\n                <el-icon v-if=\"activity.type === 'product'\">\n                  <Goods />\n                </el-icon>\n                <el-icon v-else-if=\"activity.type === 'trade'\">\n                  <Transaction />\n                </el-icon>\n                <el-icon v-else>\n                  <User />\n                </el-icon>\n              </div>\n              <div class=\"activity-content\">\n                <div class=\"activity-text\">{{ activity.description }}</div>\n                <div class=\"activity-time\">{{ formatRelativeTime(activity.time) }}</div>\n              </div>\n            </div>\n          </div>\n          <div v-else class=\"no-activities\">暂无活动记录</div>\n        </div>\n      </div>\n      \n      <div v-else class=\"loading-state\">\n        <el-skeleton animated :rows=\"6\" class=\"user-skeleton\" />\n      </div>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport { Edit, User, Goods, Transaction } from '@element-plus/icons-vue'\nimport { userAPI, productAPI, tradeAPI } from '../api'\n\nexport default {\n  name: 'UserInfo',\n  components: {\n    Edit,\n    User,\n    Goods,\n    Transaction\n  },\n  data() {\n    return {\n      userInfo: null,\n      userStats: {\n        totalProducts: 0,\n        activeProducts: 0,\n        initiatedTrades: 0,\n        receivedTrades: 0,\n        completedTrades: 0\n      },\n      recentActivities: [],\n      loading: true\n    }\n  },\n  computed: {\n    userRole() {\n      if (!this.userInfo) return ''\n      return this.userInfo.isAdmin ? '管理员' : '普通用户'\n    },\n    userGender() {\n      if (!this.userInfo || !this.userInfo.gender) return '未知'\n      const genderMap = {\n        1: '男',\n        2: '女',\n        0: '保密'\n      }\n      return genderMap[this.userInfo.gender] || '未知'\n    }\n  },\n  mounted() {\n    this.loadUserInfo()\n  },\n  methods: {\n    async loadUserInfo() {\n      this.loading = true\n      try {\n        // 加载用户信息\n        const userInfoResponse = await userAPI.getUserInfo()\n        this.userInfo = userInfoResponse\n        \n        // 加载用户统计数据\n        await this.loadUserStats()\n        \n        // 加载最近活动\n        await this.loadRecentActivities()\n      } catch (error) {\n        this.$message.error('加载用户信息失败')\n        console.error('Failed to load user info:', error)\n      } finally {\n        this.loading = false\n      }\n    },\n    async loadUserStats() {\n      try {\n        // 获取用户商品统计\n        const products = await productAPI.getUserProducts()\n        this.userStats.totalProducts = products.length\n        this.userStats.activeProducts = products.filter(p => p.status === 1).length\n        \n        // 获取用户交易统计\n        const initiatedTrades = await tradeAPI.getInitiatedTrades()\n        const receivedTrades = await tradeAPI.getReceivedTrades()\n        \n        this.userStats.initiatedTrades = initiatedTrades.length\n        this.userStats.receivedTrades = receivedTrades.length\n        \n        // 计算完成交易数\n        const completedInitiated = initiatedTrades.filter(t => t.status === 4).length\n        const completedReceived = receivedTrades.filter(t => t.status === 4).length\n        this.userStats.completedTrades = completedInitiated + completedReceived\n      } catch (error) {\n        console.error('Failed to load user stats:', error)\n      }\n    },\n    async loadRecentActivities() {\n      try {\n        const activities = []\n        \n        // 获取最近发布的商品\n        const products = await productAPI.getUserProducts()\n        const recentProducts = products.slice(0, 3).map(product => ({\n          id: `product-${product.id}`,\n          type: 'product',\n          description: `发布了商品《${product.name}》`,\n          time: product.createdTime\n        }))\n        activities.push(...recentProducts)\n        \n        // 获取最近的交易\n        const trades = await tradeAPI.getInitiatedTrades()\n        const recentTrades = trades.slice(0, 3).map(trade => ({\n          id: `trade-${trade.id}`,\n          type: 'trade',\n          description: `发起了交易 #${trade.id}`,\n          time: trade.createdTime\n        }))\n        activities.push(...recentTrades)\n        \n        // 按时间排序\n        activities.sort((a, b) => new Date(b.time) - new Date(a.time))\n        \n        this.recentActivities = activities.slice(0, 5)\n      } catch (error) {\n        console.error('Failed to load recent activities:', error)\n        this.recentActivities = []\n      }\n    },\n    formatDate(dateString) {\n      if (!dateString) return '-'\n      const date = new Date(dateString)\n      return date.toLocaleString('zh-CN')\n    },\n    formatRelativeTime(dateString) {\n      if (!dateString) return ''\n      const now = new Date()\n      const date = new Date(dateString)\n      const diff = now - date\n      \n      const minute = 60 * 1000\n      const hour = minute * 60\n      const day = hour * 24\n      const week = day * 7\n      const month = day * 30\n      \n      if (diff < minute) {\n        return '刚刚'\n      } else if (diff < hour) {\n        return `${Math.floor(diff / minute)}分钟前`\n      } else if (diff < day) {\n        return `${Math.floor(diff / hour)}小时前`\n      } else if (diff < week) {\n        return `${Math.floor(diff / day)}天前`\n      } else if (diff < month) {\n        return `${Math.floor(diff / week)}周前`\n      } else {\n        return `${Math.floor(diff / month)}个月前`\n      }\n    },\n    goToEdit() {\n      this.$router.push('/user/update')\n    }\n  }\n}\n</script>\n\n<style scoped>\n.user-info-container {\n  padding: 0;\n}\n\n.user-info-card {\n  max-width: 1000px;\n  margin: 0 auto;\n}\n\n.card-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-size: 18px;\n  font-weight: 500;\n  color: #303133;\n}\n\n.user-profile {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.avatar-section {\n  text-align: center;\n  margin-bottom: 30px;\n  padding: 20px;\n  background: #fafafa;\n  border-radius: 8px;\n  width: 100%;\n}\n\n.user-avatar {\n  margin-bottom: 15px;\n}\n\n.user-name {\n  font-size: 24px;\n  font-weight: 500;\n  margin-bottom: 8px;\n}\n\n.user-role {\n  color: #606266;\n}\n\n.info-section,\n.stats-section,\n.recent-activities {\n  width: 100%;\n  margin-bottom: 30px;\n}\n\n.section-title {\n  font-size: 16px;\n  font-weight: 500;\n  margin-bottom: 15px;\n  color: #303133;\n  padding-bottom: 10px;\n  border-bottom: 1px solid #ebeef5;\n}\n\n.stats-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\n  gap: 20px;\n}\n\n.stat-item {\n  text-align: center;\n  padding: 20px;\n  background: #f8f9fa;\n  border-radius: 8px;\n  transition: transform 0.3s ease;\n}\n\n.stat-item:hover {\n  transform: translateY(-2px);\n  background: #e9ecef;\n}\n\n.stat-value {\n  font-size: 24px;\n  font-weight: 600;\n  color: #409eff;\n  margin-bottom: 5px;\n}\n\n.stat-label {\n  color: #606266;\n  font-size: 14px;\n}\n\n.activities-list {\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n}\n\n.activity-item {\n  display: flex;\n  gap: 15px;\n  padding: 15px;\n  background: #f8f9fa;\n  border-radius: 8px;\n}\n\n.activity-icon {\n  color: #409eff;\n  font-size: 20px;\n  margin-top: 2px;\n}\n\n.activity-content {\n  flex: 1;\n}\n\n.activity-text {\n  margin-bottom: 5px;\n  color: #303133;\n}\n\n.activity-time {\n  color: #909399;\n  font-size: 12px;\n}\n\n.no-activities {\n  text-align: center;\n  padding: 30px;\n  color: #909399;\n  background: #f8f9fa;\n  border-radius: 8px;\n}\n\n.user-skeleton {\n  max-width: 800px;\n  margin: 0 auto;\n}\n\n@media (max-width: 768px) {\n  .user-info-card {\n    max-width: 100%;\n  }\n  \n  .stats-grid {\n    grid-template-columns: repeat(2, 1fr);\n  }\n}\n</style>","import { render } from \"./UserInfo.vue?vue&type=template&id=a2e0a7a2&scoped=true\"\nimport script from \"./UserInfo.vue?vue&type=script&lang=js\"\nexport * from \"./UserInfo.vue?vue&type=script&lang=js\"\n\nimport \"./UserInfo.vue?vue&type=style&index=0&id=a2e0a7a2&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-a2e0a7a2\"]])\n\nexport default __exports__"],"names":["userAPI","register","data","axios","post","login","getCurrentUser","get","updateUser","put","getUsers","params","productAPI","createProduct","getProducts","getProductById","id","updateProduct","deleteProduct","delete","getMyProducts","searchProducts","keyword","tradeAPI","applyTrade","acceptTrade","rejectTrade","cancelTrade","completeTrade","getTradeById","getMyBuyTrades","userInfo","JSON","parse","localStorage","getItem","getMySellTrades","getProductTrades","productId","class","_createElementBlock","_hoisted_1","_createVNode","_component_el_card","header","_withCtx","_createElementVNode","_hoisted_2","_component_el_button","type","onClick","$options","goToEdit","_component_el_icon","_component_Edit","$data","_hoisted_3","_hoisted_4","_component_el_avatar","size","src","avatar","username","charAt","toUpperCase","_hoisted_5","_toDisplayString","_hoisted_6","userRole","_hoisted_7","_component_el_descriptions","border","column","xs","sm","_component_el_descriptions_item","label","nickname","userGender","email","phone","bio","formatDate","createdTime","lastLoginTime","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","userStats","totalProducts","_hoisted_12","_hoisted_13","activeProducts","_hoisted_14","_hoisted_15","initiatedTrades","_hoisted_16","_hoisted_17","receivedTrades","_hoisted_18","_hoisted_19","completedTrades","_hoisted_20","recentActivities","length","_hoisted_21","_Fragment","_renderList","activity","key","_hoisted_22","_createBlock","_component_Goods","_component_Transaction","_component_User","_hoisted_23","_hoisted_24","description","_hoisted_25","formatRelativeTime","time","_hoisted_26","_hoisted_27","_component_el_skeleton","animated","rows","name","components","Edit","User","Goods","Transaction","loading","computed","this","isAdmin","gender","genderMap","mounted","loadUserInfo","methods","userInfoResponse","getUserInfo","loadUserStats","loadRecentActivities","error","$message","console","products","getUserProducts","filter","p","status","getInitiatedTrades","getReceivedTrades","completedInitiated","t","completedReceived","activities","recentProducts","slice","map","product","push","trades","recentTrades","trade","sort","a","b","Date","dateString","date","toLocaleString","now","diff","minute","hour","day","week","month","Math","floor","$router","__exports__","render"],"sourceRoot":""}