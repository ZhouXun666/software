{"version":3,"file":"js/247.060b83c3.js","mappings":"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","sources":["webpack://secondhand-frontend/./src/views/Register.vue","webpack://secondhand-frontend/./src/views/Register.vue?157d","webpack://secondhand-frontend/./src/api/index.js"],"sourcesContent":["<template>\n  <div class=\"register-container\">\n    <el-card class=\"register-card\">\n      <template #header>\n        <div class=\"register-title\">\n          <h2>校园二手商品交易系统</h2>\n          <p>用户注册</p>\n        </div>\n      </template>\n      <el-form :model=\"registerForm\" :rules=\"registerRules\" ref=\"registerFormRef\" label-width=\"80px\">\n        <el-form-item label=\"用户名\" prop=\"username\">\n          <el-input v-model=\"registerForm.username\" placeholder=\"请输入用户名\" prefix-icon=\"el-icon-user\" />\n        </el-form-item>\n        <el-form-item label=\"密码\" prop=\"password\">\n          <el-input v-model=\"registerForm.password\" type=\"password\" placeholder=\"请输入密码\" prefix-icon=\"el-icon-lock\" show-password />\n        </el-form-item>\n        <el-form-item label=\"确认密码\" prop=\"confirmPassword\">\n          <el-input v-model=\"registerForm.confirmPassword\" type=\"password\" placeholder=\"请确认密码\" prefix-icon=\"el-icon-lock\" show-password />\n        </el-form-item>\n        <el-form-item label=\"姓名\" prop=\"name\">\n          <el-input v-model=\"registerForm.name\" placeholder=\"请输入真实姓名\" prefix-icon=\"el-icon-user-solid\" />\n        </el-form-item>\n        <el-form-item label=\"手机号\" prop=\"phone\">\n          <el-input v-model=\"registerForm.phone\" placeholder=\"请输入手机号\" prefix-icon=\"el-icon-phone\" />\n        </el-form-item>\n        <el-form-item label=\"邮箱\" prop=\"email\">\n          <el-input v-model=\"registerForm.email\" type=\"email\" placeholder=\"请输入邮箱\" prefix-icon=\"el-icon-message\" />\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"handleRegister\" :loading=\"loading\" class=\"register-btn\">注册</el-button>\n          <el-button type=\"text\" @click=\"goToLogin\">已有账号？去登录</el-button>\n        </el-form-item>\n      </el-form>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport { userAPI } from '../api'\n\nexport default {\n  name: 'Register',\n  data() {\n    return {\n      registerForm: {\n        username: '',\n        password: '',\n        confirmPassword: '',\n        name: '',\n        phone: '',\n        email: ''\n      },\n      registerRules: {\n        username: [\n          { required: true, message: '请输入用户名', trigger: 'blur' },\n          { min: 3, max: 20, message: '用户名长度在 3 到 20 个字符', trigger: 'blur' }\n        ],\n        password: [\n          { required: true, message: '请输入密码', trigger: 'blur' },\n          { min: 6, message: '密码长度不能少于 6 个字符', trigger: 'blur' }\n        ],\n        confirmPassword: [\n          { required: true, message: '请确认密码', trigger: 'blur' },\n          { validator: this.validatePassword, trigger: 'blur' }\n        ],\n        name: [\n          { required: true, message: '请输入姓名', trigger: 'blur' }\n        ],\n        phone: [\n          { required: true, message: '请输入手机号', trigger: 'blur' },\n          { pattern: /^1[3-9]\\d{9}$/, message: '请输入正确的手机号格式', trigger: 'blur' }\n        ],\n        email: [\n          { required: true, message: '请输入邮箱', trigger: 'blur' },\n          { type: 'email', message: '请输入正确的邮箱格式', trigger: 'blur' }\n        ]\n      },\n      loading: false\n    }\n  },\n  methods: {\n    // 验证两次密码是否一致\n    validatePassword(rule, value, callback) {\n      if (value !== this.registerForm.password) {\n        callback(new Error('两次输入的密码不一致'))\n      } else {\n        callback()\n      }\n    },\n    async handleRegister() {\n      this.$refs.registerFormRef.validate(async (valid) => {\n        if (valid) {\n          this.loading = true\n          try {\n            const { confirmPassword, ...formData } = this.registerForm\n            await userAPI.register(formData)\n            this.$message.success('注册成功，请登录')\n            this.$router.push('/login')\n          } catch (error) {\n            this.$message.error(error.response?.data?.message || '注册失败，请重试')\n          } finally {\n            this.loading = false\n          }\n        }\n      })\n    },\n    goToLogin() {\n      this.$router.push('/login')\n    }\n  }\n}\n</script>\n\n<style scoped>\n.register-container {\n  min-height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  padding: 20px;\n}\n\n.register-card {\n  width: 100%;\n  max-width: 500px;\n  border-radius: 10px;\n  overflow: hidden;\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n}\n\n.register-title {\n  text-align: center;\n  margin-bottom: 20px;\n}\n\n.register-title h2 {\n  color: #303133;\n  font-size: 24px;\n  margin-bottom: 10px;\n}\n\n.register-title p {\n  color: #606266;\n  font-size: 16px;\n}\n\n.register-btn {\n  width: 100%;\n  height: 40px;\n  font-size: 16px;\n}\n\n.el-form {\n  padding: 0 20px 20px;\n}\n</style>","import { render } from \"./Register.vue?vue&type=template&id=ba68d2d6&scoped=true\"\nimport script from \"./Register.vue?vue&type=script&lang=js\"\nexport * from \"./Register.vue?vue&type=script&lang=js\"\n\nimport \"./Register.vue?vue&type=style&index=0&id=ba68d2d6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ba68d2d6\"]])\n\nexport default __exports__","import axios from 'axios'\n\n// 用户相关API\nexport const userAPI = {\n  // 用户注册\n  register: (data) => {\n    return axios.post('/users/register', data)\n  },\n  \n  // 用户登录\n  login: (data) => {\n    return axios.post('/users/login', data)\n  },\n  \n  // 获取当前用户信息\n  getCurrentUser: () => {\n    return axios.get('/users/me')\n  },\n  \n  // 更新用户信息\n  updateUser: (data) => {\n    return axios.put('/users/me', data)\n  },\n  \n  // 获取用户列表（管理员）\n  getUsers: (params) => {\n    return axios.get('/users', { params })\n  }\n}\n\n// 商品相关API\nexport const productAPI = {\n  // 创建商品\n  createProduct: (data) => {\n    return axios.post('/products', data)\n  },\n  \n  // 获取商品列表\n  getProducts: (params) => {\n    return axios.get('/products', { params })\n  },\n  \n  // 获取商品详情\n  getProductById: (id) => {\n    return axios.get(`/products/${id}`)\n  },\n  \n  // 更新商品\n  updateProduct: (id, data) => {\n    return axios.put(`/products/${id}`, data)\n  },\n  \n  // 删除商品\n  deleteProduct: (id) => {\n    return axios.delete(`/products/${id}`)\n  },\n  \n  // 获取我的商品\n  getMyProducts: () => {\n    return axios.get('/products/my')\n  },\n  \n  // 搜索商品\n  searchProducts: (keyword) => {\n    return axios.get('/products/search', { params: { keyword } })\n  }\n}\n\n// 交易相关API\nexport const tradeAPI = {\n  // 申请交易\n  applyTrade: (data) => {\n    return axios.post('/trades/apply', data)\n  },\n  \n  // 接受交易\n  acceptTrade: (id) => {\n    return axios.post(`/trades/${id}/accept`)\n  },\n  \n  // 拒绝交易\n  rejectTrade: (id) => {\n    return axios.post(`/trades/${id}/reject`)\n  },\n  \n  // 取消交易\n  cancelTrade: (id) => {\n    return axios.post(`/trades/${id}/cancel`)\n  },\n  \n  // 完成交易\n  completeTrade: (id) => {\n    return axios.post(`/trades/${id}/complete`)\n  },\n  \n  // 获取交易详情\n  getTradeById: (id) => {\n    return axios.get(`/trades/${id}`)\n  },\n  \n  // 获取我作为买家的交易\n  getMyBuyTrades: () => {\n    const userInfo = JSON.parse(localStorage.getItem('userInfo'))\n    return axios.get(`/trades/buyer/${userInfo?.id}`)\n  },\n  \n  // 获取我作为卖家的交易\n  getMySellTrades: () => {\n    const userInfo = JSON.parse(localStorage.getItem('userInfo'))\n    return axios.get(`/trades/seller/${userInfo?.id}`)\n  },\n  \n  // 获取商品的交易记录\n  getProductTrades: (productId) => {\n    return axios.get(`/trades/product/${productId}`)\n  }\n}\n\n// 上传图片API\nexport const uploadAPI = {\n  // 上传图片\n  uploadImage: (formData) => {\n    return axios.post('/upload/image', formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    })\n  }\n}"],"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_el_card","header","_withCtx","_cache","_createElementVNode","_component_el_form","model","$data","registerForm","rules","registerRules","ref","_component_el_form_item","label","prop","_component_el_input","username","$event","placeholder","password","type","confirmPassword","name","phone","email","_component_el_button","onClick","$options","handleRegister","loading","goToLogin","data","required","message","trigger","min","max","validator","this","validatePassword","pattern","methods","rule","value","callback","Error","$refs","registerFormRef","validate","async","valid","formData","userAPI","register","$message","success","$router","push","error","response","__exports__","render","axios","post","login","getCurrentUser","get","updateUser","put","getUsers","params","productAPI","createProduct","getProducts","getProductById","id","updateProduct","deleteProduct","delete","getMyProducts","searchProducts","keyword","tradeAPI","applyTrade","acceptTrade","rejectTrade","cancelTrade","completeTrade","getTradeById","getMyBuyTrades","userInfo","JSON","parse","localStorage","getItem","getMySellTrades","getProductTrades","productId"],"sourceRoot":""}