{"version":3,"file":"js/739.2075b930.js","mappings":"+KAGO,MAAMA,EAAU,CAErBC,SAAWC,GACFC,EAAAA,EAAMC,KAAK,kBAAmBF,GAIvCG,MAAQH,GACCC,EAAAA,EAAMC,KAAK,eAAgBF,GAIpCI,eAAgBA,IACPH,EAAAA,EAAMI,IAAI,aAInBC,WAAaN,GACJC,EAAAA,EAAMM,IAAI,YAAaP,GAIhCQ,SAAWC,GACFR,EAAAA,EAAMI,IAAI,SAAU,CAAEI,YAKpBC,EAAa,CAExBC,cAAgBX,GACPC,EAAAA,EAAMC,KAAK,YAAaF,GAIjCY,YAAcH,GACLR,EAAAA,EAAMI,IAAI,YAAa,CAAEI,WAIlCI,eAAiBC,GACRb,EAAAA,EAAMI,IAAI,aAAaS,KAIhCC,cAAeA,CAACD,EAAId,IACXC,EAAAA,EAAMM,IAAI,aAAaO,IAAMd,GAItCgB,cAAgBF,GACPb,EAAAA,EAAMgB,OAAO,aAAaH,KAInCI,cAAeA,IACNjB,EAAAA,EAAMI,IAAI,gBAInBc,eAAiBC,GACRnB,EAAAA,EAAMI,IAAI,mBAAoB,CAAEI,OAAQ,CAAEW,cAKxCC,EAAW,CAEtBC,WAAatB,GACJC,EAAAA,EAAMC,KAAK,gBAAiBF,GAIrCuB,YAAcT,GACLb,EAAAA,EAAMC,KAAK,WAAWY,YAI/BU,YAAcV,GACLb,EAAAA,EAAMC,KAAK,WAAWY,YAI/BW,YAAcX,GACLb,EAAAA,EAAMC,KAAK,WAAWY,YAI/BY,cAAgBZ,GACPb,EAAAA,EAAMC,KAAK,WAAWY,cAI/Ba,aAAeb,GACNb,EAAAA,EAAMI,IAAI,WAAWS,KAI9Bc,eAAgBA,KACd,MAAMC,EAAWC,KAAKC,MAAMC,aAAaC,QAAQ,aACjD,OAAOhC,EAAAA,EAAMI,IAAI,iBAAiBwB,GAAUf,OAI9CoB,gBAAiBA,KACf,MAAML,EAAWC,KAAKC,MAAMC,aAAaC,QAAQ,aACjD,OAAOhC,EAAAA,EAAMI,IAAI,kBAAkBwB,GAAUf,OAI/CqB,iBAAmBC,GACVnC,EAAAA,EAAMI,IAAI,mBAAmB+B,K,4ECjHjCC,MAAM,yB,GAQFA,MAAM,kB,GAGAA,MAAM,mB,GACJA,MAAM,kB,GACJA,MAAM,kB,GAQNA,MAAM,a,GA6CVA,MAAM,oB,GA8BFA,MAAM,iB,mBAuCTA,MAAM,qC,GAEbA,MAAM,iB,yWAzIfC,EAAAA,EAAAA,IA8IM,MA9INC,EA8IM,EA7IJC,EAAAA,EAAAA,IAwHUC,EAAA,CAxHDJ,MAAM,eAAa,CACfK,QAAMC,EAAAA,EAAAA,IACf,IAEM,IAAAC,EAAA,MAAAA,EAAA,MAFNC,EAAAA,EAAAA,IAEM,OAFDR,MAAM,eAAa,EACtBQ,EAAAA,EAAAA,IAAiB,YAAX,U,wBAIV,IAgHM,EAhHNA,EAAAA,EAAAA,IAgHM,MAhHNC,EAgHM,EA/GJN,EAAAA,EAAAA,IA8GUO,EAAA,C,WA9GQC,EAAAC,U,qCAAAD,EAAAC,UAASC,GAAGC,WAAWC,EAAAC,gB,kBACvC,IAqDc,EArDdb,EAAAA,EAAAA,IAqDcc,EAAA,CArDDC,MAAM,OAAOC,KAAK,W,kBAC7B,IAmDM,EAnDNX,EAAAA,EAAAA,IAmDM,MAnDNY,EAmDM,EAlDJZ,EAAAA,EAAAA,IAgBM,MAhBNa,EAgBM,EAfJb,EAAAA,EAAAA,IAOM,MAPNc,EAOM,EANJnB,EAAAA,EAAAA,IAEYoB,EAAA,CAFAC,KAAM,IAAMC,IAAKd,EAAAnB,SAASkC,QAAUf,EAAAgB,e,kBAC9C,IAAuC,E,iBAApCZ,EAAAa,eAAejB,EAAAnB,SAASqC,WAAQ,K,iBAErC1B,EAAAA,EAAAA,IAEY2B,EAAA,CAFDC,KAAK,UAAUP,KAAK,QAASQ,QAAKzB,EAAA,KAAAA,EAAA,GAAAM,GAAEF,EAAAsB,kBAAmB,GAAMjC,MAAM,qB,kBAAoB,IAElG,IAAAO,EAAA,MAAAA,EAAA,M,QAFkG,UAElG,O,SAEFC,EAAAA,EAAAA,IAMM,MANN0B,EAMM,EALJ1B,EAAAA,EAAAA,IAAgC,WAAA2B,EAAAA,EAAAA,IAAzBxB,EAAAnB,SAASqC,UAAQ,IACxBrB,EAAAA,EAAAA,IAAsC,UAAA2B,EAAAA,EAAAA,IAAhCxB,EAAAnB,SAAS4C,OAAS,SAAJ,IACpB5B,EAAAA,EAAAA,IAAuD,SAApD,SAAK2B,EAAAA,EAAAA,IAAGpB,EAAAsB,WAAW1B,EAAAnB,SAAS8C,mBAAgB,IAC/C9B,EAAAA,EAAAA,IAA0C,SAAvC,SAAK2B,EAAAA,EAAAA,IAAGxB,EAAA4B,UAAUC,cAAe,KAAE,IACtChC,EAAAA,EAAAA,IAA0C,SAAvC,UAAM2B,EAAAA,EAAAA,IAAGpB,EAAA0B,wBAAyB,IAAC,QAI1CtC,EAAAA,EAAAA,IA+BUuC,EAAA,CA/BAC,MAAOhC,EAAAiC,YAAcC,MAAOlC,EAAAmC,aAAcC,IAAI,iBAAiB,cAAY,QAAQ/C,MAAM,gB,kBACjG,IAEe,EAFfG,EAAAA,EAAAA,IAEe6C,EAAA,CAFD9B,MAAM,KAAK+B,KAAK,Y,kBAC5B,IAA8F,EAA9F9C,EAAAA,EAAAA,IAA8F+C,EAAA,C,WAA3EvC,EAAAiC,YAAYO,S,qCAAZxC,EAAAiC,YAAYO,SAAQtC,GAAEuC,YAAY,QAAQC,UAAU,KAAK,sB,gCAE9ElD,EAAAA,EAAAA,IAMe6C,EAAA,CAND9B,MAAM,MAAI,C,iBACtB,IAIiB,EAJjBf,EAAAA,EAAAA,IAIiBmD,EAAA,C,WAJQ3C,EAAAiC,YAAYW,O,qCAAZ5C,EAAAiC,YAAYW,OAAM1C,I,kBACzC,IAAgC,EAAhCV,EAAAA,EAAAA,IAAgCqD,EAAA,CAAtBtC,MAAM,KAAG,C,iBAAC,IAAC,IAAAX,EAAA,MAAAA,EAAA,M,QAAD,KAAC,O,OACrBJ,EAAAA,EAAAA,IAAgCqD,EAAA,CAAtBtC,MAAM,KAAG,C,iBAAC,IAAC,IAAAX,EAAA,MAAAA,EAAA,M,QAAD,KAAC,O,OACrBJ,EAAAA,EAAAA,IAAiCqD,EAAA,CAAvBtC,MAAM,KAAG,C,iBAAC,IAAE,IAAAX,EAAA,MAAAA,EAAA,M,QAAF,MAAE,O,wCAG1BJ,EAAAA,EAAAA,IAEe6C,EAAA,CAFD9B,MAAM,KAAK+B,KAAK,S,kBAC5B,IAA4F,EAA5F9C,EAAAA,EAAAA,IAA4F+C,EAAA,C,WAAzEvC,EAAAiC,YAAYR,M,qCAAZzB,EAAAiC,YAAYR,MAAKvB,GAAEuC,YAAY,QAAQC,UAAU,MAAM,sB,gCAE5ElD,EAAAA,EAAAA,IAEe6C,EAAA,CAFD9B,MAAM,OAAO+B,KAAK,S,kBAC9B,IAA6F,EAA7F9C,EAAAA,EAAAA,IAA6F+C,EAAA,C,WAA1EvC,EAAAiC,YAAYa,M,qCAAZ9C,EAAAiC,YAAYa,MAAK5C,GAAEuC,YAAY,UAAUC,UAAU,KAAK,sB,gCAE7ElD,EAAAA,EAAAA,IASe6C,EAAA,CATD9B,MAAM,OAAO+B,KAAK,O,kBAC9B,IAOE,EAPF9C,EAAAA,EAAAA,IAOE+C,EAAA,C,WANSvC,EAAAiC,YAAYc,I,qCAAZ/C,EAAAiC,YAAYc,IAAG7C,GACxBkB,KAAK,WACJ4B,KAAM,EACPP,YAAY,UACZC,UAAU,MACV,sB,gCAGJlD,EAAAA,EAAAA,IAGe6C,EAAA,M,iBAFb,IAAuF,EAAvF7C,EAAAA,EAAAA,IAAuF2B,EAAA,CAA5EC,KAAK,UAAWC,QAAOjB,EAAA6C,cAAgBC,QAASlD,EAAAmD,Y,kBAAY,IAAI,IAAAvD,EAAA,MAAAA,EAAA,M,QAAJ,QAAI,O,+BAC3EJ,EAAAA,EAAAA,IAA+C2B,EAAA,CAAnCE,QAAOjB,EAAAgD,cAAY,C,iBAAE,IAAE,IAAAxD,EAAA,MAAAA,EAAA,M,QAAF,MAAE,O,mEAM3CJ,EAAAA,EAAAA,IAqDcc,EAAA,CArDDC,MAAM,OAAOC,KAAK,Y,kBAC7B,IAmDM,EAnDNX,EAAAA,EAAAA,IAmDM,MAnDNwD,EAmDM,EAlDJ7D,EAAAA,EAAAA,IAqBUC,EAAA,CArBDJ,MAAM,iBAAe,CACjBK,QAAMC,EAAAA,EAAAA,IACf,IAEM,IAAAC,EAAA,MAAAA,EAAA,MAFNC,EAAAA,EAAAA,IAEM,OAFDR,MAAM,wBAAsB,EAC/BQ,EAAAA,EAAAA,IAAiB,YAAX,U,wBAGV,IAcU,EAdVL,EAAAA,EAAAA,IAcUuC,EAAA,CAdAC,MAAOhC,EAAAsD,aAAepB,MAAOlC,EAAAuD,cAAenB,IAAI,kBAAkB,cAAY,QAAQ/C,MAAM,iB,kBACpG,IAEe,EAFfG,EAAAA,EAAAA,IAEe6C,EAAA,CAFD9B,MAAM,MAAM+B,KAAK,e,kBAC7B,IAAoF,EAApF9C,EAAAA,EAAAA,IAAoF+C,EAAA,C,WAAjEvC,EAAAsD,aAAaE,Y,qCAAbxD,EAAAsD,aAAaE,YAAWtD,GAAEkB,KAAK,WAAWqB,YAAY,U,gCAE3EjD,EAAAA,EAAAA,IAEe6C,EAAA,CAFD9B,MAAM,MAAM+B,KAAK,e,kBAC7B,IAAkG,EAAlG9C,EAAAA,EAAAA,IAAkG+C,EAAA,C,WAA/EvC,EAAAsD,aAAaG,Y,qCAAbzD,EAAAsD,aAAaG,YAAWvD,GAAEkB,KAAK,WAAWqB,YAAY,SAAS,oB,gCAEpFjD,EAAAA,EAAAA,IAEe6C,EAAA,CAFD9B,MAAM,QAAQ+B,KAAK,mB,kBAC/B,IAAwG,EAAxG9C,EAAAA,EAAAA,IAAwG+C,EAAA,C,WAArFvC,EAAAsD,aAAaI,gB,qCAAb1D,EAAAsD,aAAaI,gBAAexD,GAAEkB,KAAK,WAAWqB,YAAY,WAAW,oB,gCAE1FjD,EAAAA,EAAAA,IAGe6C,EAAA,M,iBAFb,IAAgG,EAAhG7C,EAAAA,EAAAA,IAAgG2B,EAAA,CAArFC,KAAK,UAAWC,QAAOjB,EAAAuD,eAAiBT,QAASlD,EAAA4D,oB,kBAAoB,IAAI,IAAAhE,EAAA,MAAAA,EAAA,M,QAAJ,QAAI,O,+BACpFJ,EAAAA,EAAAA,IAAgD2B,EAAA,CAApCE,QAAOjB,EAAAyD,eAAa,C,iBAAE,IAAE,IAAAjE,EAAA,MAAAA,EAAA,M,QAAF,MAAE,O,iEAK1CJ,EAAAA,EAAAA,IA0BUC,EAAA,CA1BDJ,MAAM,iBAAe,CACjBK,QAAMC,EAAAA,EAAAA,IACf,IAEM,IAAAC,EAAA,MAAAA,EAAA,MAFNC,EAAAA,EAAAA,IAEM,OAFDR,MAAM,wBAAsB,EAC/BQ,EAAAA,EAAAA,IAAmB,YAAb,Y,wBAGV,IAmBM,EAnBNA,EAAAA,EAAAA,IAmBM,MAnBNiE,EAmBM,EAlBJtE,EAAAA,EAAAA,IAKEuE,EAAA,CAJAC,MAAM,mBACN5C,KAAK,OACJ6C,UAAU,EACX,kBAEFzE,EAAAA,EAAAA,IAKEuE,EAAA,CAJAC,MAAM,gBACN5C,KAAK,UACJ6C,UAAU,EACX,kBAEFzE,EAAAA,EAAAA,IAKEuE,EAAA,CAJAC,MAAM,gBACN5C,KAAK,UACJ6C,UAAU,EACX,qB,iEAWhBzE,EAAAA,EAAAA,IAiBY0E,EAAA,C,WAjBQlE,EAAAsB,iB,uCAAAtB,EAAAsB,iBAAgBpB,GAAE8D,MAAM,OAAOG,MAAM,O,kBACvD,IAWY,EAXZ3E,EAAAA,EAAAA,IAWY4E,EAAA,CAVV/E,MAAM,kBACNgF,OAAO,GACN,eAAcjE,EAAAkE,aACd,kBAAgB,EAChB,eAAa,EACb,YAAWlE,EAAAmE,mBACZC,OAAO,W,kBAEP,IAAgE,CAArDxE,EAAAyE,gB,WAAXnF,EAAAA,EAAAA,IAAgE,O,MAArCwB,IAAKd,EAAAyE,cAAepF,MAAM,U,wBACrDC,EAAAA,EAAAA,IAAsD,IAAtDoF,M,sCAEF7E,EAAAA,EAAAA,IAGM,MAHN8E,EAGM,EAFJnF,EAAAA,EAAAA,IAA2D2B,EAAA,CAA/CE,QAAKzB,EAAA,MAAAA,EAAA,IAAAM,GAAEF,EAAAsB,kBAAmB,I,kBAAO,IAAE,IAAA1B,EAAA,MAAAA,EAAA,M,QAAF,MAAE,O,OAC/CJ,EAAAA,EAAAA,IAAgG2B,EAAA,CAArFC,KAAK,UAAWC,QAAOjB,EAAAwE,oBAAsB1B,QAASlD,EAAA6E,iB,kBAAiB,IAAE,IAAAjF,EAAA,MAAAA,EAAA,M,QAAF,MAAE,O,wEAS5F,SACEY,KAAM,aACNxD,IAAAA,GACE,MAAO,CACLiD,UAAW,UACXpB,SAAU,CACRqC,SAAU,GACVO,MAAO,GACPE,iBAAkB,GAClBZ,OAAQ,IAEVa,UAAW,CACTC,aAAc,EACdiD,kBAAmB,EACnBC,gBAAiB,GAEnB/D,cAAe,+FACfiB,YAAa,CACXO,SAAU,GACVI,OAAQ,IACRnB,MAAO,GACPqB,MAAO,GACPC,IAAK,IAEPZ,aAAc,CACZK,SAAU,CACR,CAAEwC,UAAU,EAAOC,IAAK,GAAIC,QAAS,cAAeC,QAAS,SAE/D1D,MAAO,CACL,CAAEuD,UAAU,EAAO5D,KAAM,QAAS8D,QAAS,aAAcC,QAAS,SAEpErC,MAAO,CACL,CAAEkC,UAAU,EAAOI,QAAS,gBAAiBF,QAAS,aAAcC,QAAS,SAE/EpC,IAAK,CACH,CAAEiC,UAAU,EAAOC,IAAK,IAAKC,QAAS,iBAAkBC,QAAS,UAGrE7B,aAAc,CACZE,YAAa,GACbC,YAAa,GACbC,gBAAiB,IAEnBH,cAAe,CACbC,YAAa,CACX,CAAEwB,UAAU,EAAME,QAAS,SAAUC,QAAS,SAEhD1B,YAAa,CACX,CAAEuB,UAAU,EAAME,QAAS,SAAUC,QAAS,QAC9C,CAAEE,IAAK,EAAGH,QAAS,aAAcC,QAAS,SAE5CzB,gBAAiB,CACf,CAAEsB,UAAU,EAAME,QAAS,SAAUC,QAAS,QAC9C,CACEG,UAAWA,CAACC,EAAMC,EAAOC,KACnBD,IAAUE,KAAKpC,aAAaG,YAC9BgC,EAAS,IAAIE,MAAM,eAEnBF,KAGJN,QAAS,UAIf7D,kBAAkB,EAClBmD,cAAe,GACfmB,WAAY,KACZzC,YAAY,EACZS,oBAAoB,EACpBiB,iBAAiB,EAErB,EACAgB,OAAAA,GACEH,KAAKI,eACLJ,KAAKK,eACP,EACAC,QAAS,CACP,kBAAMF,GACJ,IACE,MAAMG,QAAiBnJ,EAAAA,GAAQoJ,cAC/BR,KAAK7G,SAAWoH,EAEhBP,KAAKzD,YAAc,CACjBO,SAAUyD,EAASzD,UAAY,GAC/BI,OAAQqD,EAASrD,QAAQuD,YAAc,IACvC1E,MAAOwE,EAASxE,OAAS,GACzBqB,MAAOmD,EAASnD,OAAS,GACzBC,IAAKkD,EAASlD,KAAO,GAEzB,CAAE,MAAOqD,GACPV,KAAKW,SAASD,MAAM,WACtB,CACF,EACA,mBAAML,GACJ,IACE,MAAME,QAAiBnJ,EAAAA,GAAQwJ,eAC/BZ,KAAK9D,UAAYqE,CACnB,CAAE,MAAOG,GAEPV,KAAK9D,UAAY,CACfC,aAAc,EACdiD,kBAAmB,EACnBC,gBAAiB,EAErB,CACF,EACA1E,cAAAA,CAAekG,GACb,EAEFtF,cAAAA,CAAeC,GACb,OAAOA,EAAWA,EAASsF,OAAO,GAAGC,cAAgB,GACvD,EACA/E,UAAAA,CAAWgF,GACT,IAAKA,EAAY,MAAO,GACxB,MAAMC,EAAO,IAAIC,KAAKF,GACtB,OAAOC,EAAKE,eAAe,QAC7B,EACA/E,oBAAAA,GACE,OAAuC,IAAnC4D,KAAK9D,UAAUmD,gBAA8B,EAC1C+B,KAAKC,MAAOrB,KAAK9D,UAAUkD,kBAAoBY,KAAK9D,UAAUmD,gBAAmB,IAC1F,EACA,mBAAM9B,GACJyC,KAAKsB,MAAMC,eAAeC,SAASC,UACjC,GAAIC,EAAO,CACT1B,KAAKvC,YAAa,EAClB,UACQrG,EAAAA,GAAQuK,eAAe3B,KAAKzD,aAClCyD,KAAKW,SAASiB,QAAQ,YAEtB5B,KAAKI,cACP,CAAE,MAAOM,GACPV,KAAKW,SAASD,MAAM,WACtB,CAAE,QACAV,KAAKvC,YAAa,CACpB,CACF,GAEJ,EACAC,YAAAA,GACEsC,KAAKsB,MAAMC,eAAeM,aAC5B,EACA,oBAAM5D,GACJ+B,KAAKsB,MAAMQ,gBAAgBN,SAASC,UAClC,GAAIC,EAAO,CACT1B,KAAK9B,oBAAqB,EAC1B,UACQ9G,EAAAA,GAAQ2K,eAAe/B,KAAKpC,cAClCoC,KAAKW,SAASiB,QAAQ,gBACtB5B,KAAKgC,QAAQC,KAAK,SACpB,CAAE,MAAOvB,GACPV,KAAKW,SAASD,MAAMA,EAAMH,UAAUjJ,MAAMkI,SAAW,oBACvD,CAAE,QACAQ,KAAK9B,oBAAqB,CAC5B,CACF,GAEJ,EACAC,aAAAA,GACE6B,KAAKsB,MAAMQ,gBAAgBD,aAC7B,EACAhD,kBAAAA,CAAmBqD,GACjBlC,KAAKE,WAAagC,EAAKC,IACvBnC,KAAKjB,cAAgBqD,IAAIC,gBAAgBH,EAAKC,IAChD,EACA,kBAAMvD,GACJ,EAEF,yBAAMM,GACJ,GAAKc,KAAKE,WAAV,CAKAF,KAAKb,iBAAkB,EACvB,IACE,MAAMmD,EAAW,IAAIC,SACrBD,EAASE,OAAO,SAAUxC,KAAKE,YAE/B,MAAMK,QAAiBnJ,EAAAA,GAAQwH,aAAa0D,GAE5CtC,KAAKW,SAASiB,QAAQ,UACtB5B,KAAKpE,kBAAmB,EAExBoE,KAAK7G,SAASkC,OAASkF,EAASkC,SAClC,CAAE,MAAO/B,GACPV,KAAKW,SAASD,MAAM,aACtB,CAAE,QACAV,KAAKb,iBAAkB,CACzB,CAjBA,MAFEa,KAAKW,SAAS+B,QAAQ,YAoB1B,I,aC5UJ,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,G","sources":["webpack://secondhand-frontend/./src/api/index.js","webpack://secondhand-frontend/./src/views/UserCenter.vue","webpack://secondhand-frontend/./src/views/UserCenter.vue?6dce"],"sourcesContent":["import axios from 'axios'\n\n// 用户相关API\nexport const userAPI = {\n  // 用户注册\n  register: (data) => {\n    return axios.post('/users/register', data)\n  },\n  \n  // 用户登录\n  login: (data) => {\n    return axios.post('/users/login', data)\n  },\n  \n  // 获取当前用户信息\n  getCurrentUser: () => {\n    return axios.get('/users/me')\n  },\n  \n  // 更新用户信息\n  updateUser: (data) => {\n    return axios.put('/users/me', data)\n  },\n  \n  // 获取用户列表（管理员）\n  getUsers: (params) => {\n    return axios.get('/users', { params })\n  }\n}\n\n// 商品相关API\nexport const productAPI = {\n  // 创建商品\n  createProduct: (data) => {\n    return axios.post('/products', data)\n  },\n  \n  // 获取商品列表\n  getProducts: (params) => {\n    return axios.get('/products', { params })\n  },\n  \n  // 获取商品详情\n  getProductById: (id) => {\n    return axios.get(`/products/${id}`)\n  },\n  \n  // 更新商品\n  updateProduct: (id, data) => {\n    return axios.put(`/products/${id}`, data)\n  },\n  \n  // 删除商品\n  deleteProduct: (id) => {\n    return axios.delete(`/products/${id}`)\n  },\n  \n  // 获取我的商品\n  getMyProducts: () => {\n    return axios.get('/products/my')\n  },\n  \n  // 搜索商品\n  searchProducts: (keyword) => {\n    return axios.get('/products/search', { params: { keyword } })\n  }\n}\n\n// 交易相关API\nexport const tradeAPI = {\n  // 申请交易\n  applyTrade: (data) => {\n    return axios.post('/trades/apply', data)\n  },\n  \n  // 接受交易\n  acceptTrade: (id) => {\n    return axios.post(`/trades/${id}/accept`)\n  },\n  \n  // 拒绝交易\n  rejectTrade: (id) => {\n    return axios.post(`/trades/${id}/reject`)\n  },\n  \n  // 取消交易\n  cancelTrade: (id) => {\n    return axios.post(`/trades/${id}/cancel`)\n  },\n  \n  // 完成交易\n  completeTrade: (id) => {\n    return axios.post(`/trades/${id}/complete`)\n  },\n  \n  // 获取交易详情\n  getTradeById: (id) => {\n    return axios.get(`/trades/${id}`)\n  },\n  \n  // 获取我作为买家的交易\n  getMyBuyTrades: () => {\n    const userInfo = JSON.parse(localStorage.getItem('userInfo'))\n    return axios.get(`/trades/buyer/${userInfo?.id}`)\n  },\n  \n  // 获取我作为卖家的交易\n  getMySellTrades: () => {\n    const userInfo = JSON.parse(localStorage.getItem('userInfo'))\n    return axios.get(`/trades/seller/${userInfo?.id}`)\n  },\n  \n  // 获取商品的交易记录\n  getProductTrades: (productId) => {\n    return axios.get(`/trades/product/${productId}`)\n  }\n}\n\n// 上传图片API\nexport const uploadAPI = {\n  // 上传图片\n  uploadImage: (formData) => {\n    return axios.post('/upload/image', formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    })\n  }\n}","<template>\n  <div class=\"user-center-container\">\n    <el-card class=\"center-card\">\n      <template #header>\n        <div class=\"card-header\">\n          <span>个人中心</span>\n        </div>\n      </template>\n      \n      <div class=\"tabs-container\">\n        <el-tabs v-model=\"activeTab\" @tab-click=\"handleTabClick\">\n          <el-tab-pane label=\"个人信息\" name=\"profile\">\n            <div class=\"profile-content\">\n              <div class=\"profile-header\">\n                <div class=\"avatar-section\">\n                  <el-avatar :size=\"100\" :src=\"userInfo.avatar || defaultAvatar\">\n                    {{ getUserInitial(userInfo.username) }}\n                  </el-avatar>\n                  <el-button type=\"primary\" size=\"small\" @click=\"showAvatarUpload = true\" class=\"change-avatar-btn\">\n                    更换头像\n                  </el-button>\n                </div>\n                <div class=\"user-info\">\n                  <h2>{{ userInfo.username }}</h2>\n                  <p>{{ userInfo.email || '未设置邮箱' }}</p>\n                  <p>注册时间：{{ formatDate(userInfo.registrationTime) }}</p>\n                  <p>发布商品：{{ userStats.productCount }} 件</p>\n                  <p>交易成功率：{{ calculateSuccessRate() }}%</p>\n                </div>\n              </div>\n              \n              <el-form :model=\"profileForm\" :rules=\"profileRules\" ref=\"profileFormRef\" label-width=\"100px\" class=\"profile-form\">\n                <el-form-item label=\"昵称\" prop=\"nickname\">\n                  <el-input v-model=\"profileForm.nickname\" placeholder=\"请输入昵称\" maxlength=\"50\" show-word-limit />\n                </el-form-item>\n                <el-form-item label=\"性别\">\n                  <el-radio-group v-model=\"profileForm.gender\">\n                    <el-radio label=\"1\">男</el-radio>\n                    <el-radio label=\"2\">女</el-radio>\n                    <el-radio label=\"0\">保密</el-radio>\n                  </el-radio-group>\n                </el-form-item>\n                <el-form-item label=\"邮箱\" prop=\"email\">\n                  <el-input v-model=\"profileForm.email\" placeholder=\"请输入邮箱\" maxlength=\"100\" show-word-limit />\n                </el-form-item>\n                <el-form-item label=\"手机号码\" prop=\"phone\">\n                  <el-input v-model=\"profileForm.phone\" placeholder=\"请输入手机号码\" maxlength=\"20\" show-word-limit />\n                </el-form-item>\n                <el-form-item label=\"个性签名\" prop=\"bio\">\n                  <el-input\n                    v-model=\"profileForm.bio\"\n                    type=\"textarea\"\n                    :rows=\"3\"\n                    placeholder=\"请输入个性签名\"\n                    maxlength=\"200\"\n                    show-word-limit\n                  />\n                </el-form-item>\n                <el-form-item>\n                  <el-button type=\"primary\" @click=\"submitProfile\" :loading=\"submitting\">保存修改</el-button>\n                  <el-button @click=\"resetProfile\">重置</el-button>\n                </el-form-item>\n              </el-form>\n            </div>\n          </el-tab-pane>\n          \n          <el-tab-pane label=\"安全设置\" name=\"security\">\n            <div class=\"security-content\">\n              <el-card class=\"security-item\">\n                <template #header>\n                  <div class=\"security-item-header\">\n                    <span>修改密码</span>\n                  </div>\n                </template>\n                <el-form :model=\"passwordForm\" :rules=\"passwordRules\" ref=\"passwordFormRef\" label-width=\"120px\" class=\"password-form\">\n                  <el-form-item label=\"原密码\" prop=\"oldPassword\">\n                    <el-input v-model=\"passwordForm.oldPassword\" type=\"password\" placeholder=\"请输入原密码\" />\n                  </el-form-item>\n                  <el-form-item label=\"新密码\" prop=\"newPassword\">\n                    <el-input v-model=\"passwordForm.newPassword\" type=\"password\" placeholder=\"请输入新密码\" show-password />\n                  </el-form-item>\n                  <el-form-item label=\"确认新密码\" prop=\"confirmPassword\">\n                    <el-input v-model=\"passwordForm.confirmPassword\" type=\"password\" placeholder=\"请再次输入新密码\" show-password />\n                  </el-form-item>\n                  <el-form-item>\n                    <el-button type=\"primary\" @click=\"submitPassword\" :loading=\"submittingPassword\">修改密码</el-button>\n                    <el-button @click=\"resetPassword\">重置</el-button>\n                  </el-form-item>\n                </el-form>\n              </el-card>\n              \n              <el-card class=\"security-item\">\n                <template #header>\n                  <div class=\"security-item-header\">\n                    <span>账户安全提示</span>\n                  </div>\n                </template>\n                <div class=\"security-tips\">\n                  <el-alert\n                    title=\"为了您的账户安全，请定期更换密码\"\n                    type=\"info\"\n                    :closable=\"false\"\n                    show-icon\n                  />\n                  <el-alert\n                    title=\"请勿与他人共享您的账户信息\"\n                    type=\"warning\"\n                    :closable=\"false\"\n                    show-icon\n                  />\n                  <el-alert\n                    title=\"在使用完账号后，请及时登出\"\n                    type=\"warning\"\n                    :closable=\"false\"\n                    show-icon\n                  />\n                </div>\n              </el-card>\n            </div>\n          </el-tab-pane>\n        </el-tabs>\n      </div>\n    </el-card>\n    \n    <!-- 头像上传对话框 -->\n    <el-dialog v-model=\"showAvatarUpload\" title=\"更换头像\" width=\"30%\">\n      <el-upload\n        class=\"avatar-uploader\"\n        action=\"\"\n        :http-request=\"uploadAvatar\"\n        :show-file-list=\"false\"\n        :auto-upload=\"false\"\n        :on-change=\"handleAvatarChange\"\n        accept=\"image/*\"\n      >\n        <img v-if=\"previewAvatar\" :src=\"previewAvatar\" class=\"avatar\" />\n        <i v-else class=\"el-icon-plus avatar-uploader-icon\" />\n      </el-upload>\n      <div class=\"dialog-footer\">\n        <el-button @click=\"showAvatarUpload = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"confirmAvatarUpload\" :loading=\"uploadingAvatar\">确定</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { userAPI } from '../api'\n\nexport default {\n  name: 'UserCenter',\n  data() {\n    return {\n      activeTab: 'profile',\n      userInfo: {\n        username: '',\n        email: '',\n        registrationTime: '',\n        avatar: ''\n      },\n      userStats: {\n        productCount: 0,\n        tradeSuccessCount: 0,\n        tradeTotalCount: 0\n      },\n      defaultAvatar: 'https://img.alicdn.com/imgextra/i4/O1CN01q0UcHt1h1sVt0jA8O_!!6000000004122-2-tps-112-112.png',\n      profileForm: {\n        nickname: '',\n        gender: '0',\n        email: '',\n        phone: '',\n        bio: ''\n      },\n      profileRules: {\n        nickname: [\n          { required: false, max: 50, message: '昵称不能超过50个字符', trigger: 'blur' }\n        ],\n        email: [\n          { required: false, type: 'email', message: '请输入正确的邮箱地址', trigger: 'blur' }\n        ],\n        phone: [\n          { required: false, pattern: /^1[3-9]\\d{9}$/, message: '请输入正确的手机号码', trigger: 'blur' }\n        ],\n        bio: [\n          { required: false, max: 200, message: '个性签名不能超过200个字符', trigger: 'blur' }\n        ]\n      },\n      passwordForm: {\n        oldPassword: '',\n        newPassword: '',\n        confirmPassword: ''\n      },\n      passwordRules: {\n        oldPassword: [\n          { required: true, message: '请输入原密码', trigger: 'blur' }\n        ],\n        newPassword: [\n          { required: true, message: '请输入新密码', trigger: 'blur' },\n          { min: 6, message: '密码长度至少6个字符', trigger: 'blur' }\n        ],\n        confirmPassword: [\n          { required: true, message: '请确认新密码', trigger: 'blur' },\n          {\n            validator: (rule, value, callback) => {\n              if (value !== this.passwordForm.newPassword) {\n                callback(new Error('两次输入的密码不一致'))\n              } else {\n                callback()\n              }\n            },\n            trigger: 'blur'\n          }\n        ]\n      },\n      showAvatarUpload: false,\n      previewAvatar: '',\n      avatarFile: null,\n      submitting: false,\n      submittingPassword: false,\n      uploadingAvatar: false\n    }\n  },\n  mounted() {\n    this.loadUserInfo()\n    this.loadUserStats()\n  },\n  methods: {\n    async loadUserInfo() {\n      try {\n        const response = await userAPI.getUserInfo()\n        this.userInfo = response\n        // 填充表单数据\n        this.profileForm = {\n          nickname: response.nickname || '',\n          gender: response.gender?.toString() || '0',\n          email: response.email || '',\n          phone: response.phone || '',\n          bio: response.bio || ''\n        }\n      } catch (error) {\n        this.$message.error('加载用户信息失败')\n      }\n    },\n    async loadUserStats() {\n      try {\n        const response = await userAPI.getUserStats()\n        this.userStats = response\n      } catch (error) {\n        // 使用默认统计数据\n        this.userStats = {\n          productCount: 0,\n          tradeSuccessCount: 0,\n          tradeTotalCount: 0\n        }\n      }\n    },\n    handleTabClick(tab) {\n      // 可以根据需要添加tab切换逻辑\n    },\n    getUserInitial(username) {\n      return username ? username.charAt(0).toUpperCase() : 'U'\n    },\n    formatDate(dateString) {\n      if (!dateString) return ''\n      const date = new Date(dateString)\n      return date.toLocaleString('zh-CN')\n    },\n    calculateSuccessRate() {\n      if (this.userStats.tradeTotalCount === 0) return 0\n      return Math.round((this.userStats.tradeSuccessCount / this.userStats.tradeTotalCount) * 100)\n    },\n    async submitProfile() {\n      this.$refs.profileFormRef.validate(async (valid) => {\n        if (valid) {\n          this.submitting = true\n          try {\n            await userAPI.updateUserInfo(this.profileForm)\n            this.$message.success('个人信息更新成功')\n            // 重新加载用户信息\n            this.loadUserInfo()\n          } catch (error) {\n            this.$message.error('更新失败，请重试')\n          } finally {\n            this.submitting = false\n          }\n        }\n      })\n    },\n    resetProfile() {\n      this.$refs.profileFormRef.resetFields()\n    },\n    async submitPassword() {\n      this.$refs.passwordFormRef.validate(async (valid) => {\n        if (valid) {\n          this.submittingPassword = true\n          try {\n            await userAPI.changePassword(this.passwordForm)\n            this.$message.success('密码修改成功，请重新登录')\n            this.$router.push('/login')\n          } catch (error) {\n            this.$message.error(error.response?.data?.message || '密码修改失败，请检查原密码是否正确')\n          } finally {\n            this.submittingPassword = false\n          }\n        }\n      })\n    },\n    resetPassword() {\n      this.$refs.passwordFormRef.resetFields()\n    },\n    handleAvatarChange(file) {\n      this.avatarFile = file.raw\n      this.previewAvatar = URL.createObjectURL(file.raw)\n    },\n    async uploadAvatar() {\n      // 这个方法被覆盖，实际上传在confirmAvatarUpload中处理\n    },\n    async confirmAvatarUpload() {\n      if (!this.avatarFile) {\n        this.$message.warning('请选择要上传的头像')\n        return\n      }\n      \n      this.uploadingAvatar = true\n      try {\n        const formData = new FormData()\n        formData.append('avatar', this.avatarFile)\n        \n        const response = await userAPI.uploadAvatar(formData)\n        \n        this.$message.success('头像上传成功')\n        this.showAvatarUpload = false\n        // 更新用户信息\n        this.userInfo.avatar = response.avatarUrl\n      } catch (error) {\n        this.$message.error('头像上传失败，请重试')\n      } finally {\n        this.uploadingAvatar = false\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.user-center-container {\n  padding: 0;\n}\n\n.center-card {\n  max-width: 1000px;\n  margin: 0 auto;\n}\n\n.card-header {\n  font-size: 18px;\n  font-weight: 500;\n  color: #303133;\n}\n\n.tabs-container {\n  margin-top: 20px;\n}\n\n/* 个人信息样式 */\n.profile-content {\n  padding: 20px 0;\n}\n\n.profile-header {\n  display: flex;\n  align-items: center;\n  padding-bottom: 30px;\n  border-bottom: 1px solid #EBEEF5;\n  margin-bottom: 30px;\n}\n\n.avatar-section {\n  position: relative;\n  margin-right: 40px;\n}\n\n.change-avatar-btn {\n  position: absolute;\n  bottom: -25px;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 100px;\n}\n\n.user-info h2 {\n  margin: 0 0 10px 0;\n  font-size: 24px;\n  font-weight: 500;\n}\n\n.user-info p {\n  margin: 5px 0;\n  color: #606266;\n}\n\n.profile-form {\n  max-width: 600px;\n}\n\n/* 安全设置样式 */\n.security-content {\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n}\n\n.security-item {\n  border-radius: 4px;\n}\n\n.security-item-header {\n  font-size: 16px;\n  font-weight: 500;\n  color: #303133;\n}\n\n.password-form {\n  max-width: 600px;\n}\n\n.security-tips {\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n}\n\n/* 头像上传样式 */\n.avatar-uploader {\n  display: flex;\n  justify-content: center;\n  margin: 20px 0;\n}\n\n.avatar {\n  width: 150px;\n  height: 150px;\n  object-fit: cover;\n}\n\n.avatar-uploader-icon {\n  width: 150px;\n  height: 150px;\n  line-height: 150px;\n  font-size: 40px;\n  color: #C0C4CC;\n  border: 1px dashed #DCDFE6;\n  border-radius: 4px;\n}\n\n.dialog-footer {\n  display: flex;\n  justify-content: flex-end;\n  gap: 10px;\n  margin-top: 20px;\n}\n\n/* 响应式设计 */\n@media (max-width: 768px) {\n  .center-card {\n    max-width: 100%;\n  }\n  \n  .profile-header {\n    flex-direction: column;\n    align-items: center;\n    text-align: center;\n  }\n  \n  .avatar-section {\n    margin-right: 0;\n    margin-bottom: 30px;\n  }\n  \n  .profile-form,\n  .password-form {\n    max-width: 100%;\n  }\n  \n  .el-form {\n    label-width: 80px;\n  }\n}\n</style>","import { render } from \"./UserCenter.vue?vue&type=template&id=2b851987&scoped=true\"\nimport script from \"./UserCenter.vue?vue&type=script&lang=js\"\nexport * from \"./UserCenter.vue?vue&type=script&lang=js\"\n\nimport \"./UserCenter.vue?vue&type=style&index=0&id=2b851987&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2b851987\"]])\n\nexport default __exports__"],"names":["userAPI","register","data","axios","post","login","getCurrentUser","get","updateUser","put","getUsers","params","productAPI","createProduct","getProducts","getProductById","id","updateProduct","deleteProduct","delete","getMyProducts","searchProducts","keyword","tradeAPI","applyTrade","acceptTrade","rejectTrade","cancelTrade","completeTrade","getTradeById","getMyBuyTrades","userInfo","JSON","parse","localStorage","getItem","getMySellTrades","getProductTrades","productId","class","_createElementBlock","_hoisted_1","_createVNode","_component_el_card","header","_withCtx","_cache","_createElementVNode","_hoisted_2","_component_el_tabs","$data","activeTab","$event","onTabClick","$options","handleTabClick","_component_el_tab_pane","label","name","_hoisted_3","_hoisted_4","_hoisted_5","_component_el_avatar","size","src","avatar","defaultAvatar","getUserInitial","username","_component_el_button","type","onClick","showAvatarUpload","_hoisted_6","_toDisplayString","email","formatDate","registrationTime","userStats","productCount","calculateSuccessRate","_component_el_form","model","profileForm","rules","profileRules","ref","_component_el_form_item","prop","_component_el_input","nickname","placeholder","maxlength","_component_el_radio_group","gender","_component_el_radio","phone","bio","rows","submitProfile","loading","submitting","resetProfile","_hoisted_7","passwordForm","passwordRules","oldPassword","newPassword","confirmPassword","submitPassword","submittingPassword","resetPassword","_hoisted_8","_component_el_alert","title","closable","_component_el_dialog","width","_component_el_upload","action","uploadAvatar","handleAvatarChange","accept","previewAvatar","_hoisted_10","_hoisted_11","confirmAvatarUpload","uploadingAvatar","tradeSuccessCount","tradeTotalCount","required","max","message","trigger","pattern","min","validator","rule","value","callback","this","Error","avatarFile","mounted","loadUserInfo","loadUserStats","methods","response","getUserInfo","toString","error","$message","getUserStats","tab","charAt","toUpperCase","dateString","date","Date","toLocaleString","Math","round","$refs","profileFormRef","validate","async","valid","updateUserInfo","success","resetFields","passwordFormRef","changePassword","$router","push","file","raw","URL","createObjectURL","formData","FormData","append","avatarUrl","warning","__exports__","render"],"sourceRoot":""}