{"version":3,"file":"js/976.f7b1a5b5.js","mappings":"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","sources":["webpack://secondhand-frontend/./src/views/Home.vue","webpack://secondhand-frontend/./src/views/Home.vue?9051"],"sourcesContent":["<template>\n  <div class=\"home-container\">\n    <!-- 顶部导航栏 -->\n    <el-header class=\"header\">\n      <div class=\"header-content\">\n        <div class=\"logo\" @click=\"toHome\">\n          <h1>校园二手交易</h1>\n        </div>\n        <div class=\"search-container\">\n          <el-input\n            v-model=\"searchKeyword\"\n            placeholder=\"搜索商品\"\n            prefix-icon=\"el-icon-search\"\n            @keyup.enter=\"handleSearch\"\n            class=\"search-input\"\n          >\n            <template #append>\n              <el-button @click=\"handleSearch\" icon=\"el-icon-search\" />\n            </template>\n          </el-input>\n        </div>\n        <div class=\"nav-right\">\n          <el-button v-if=\"!isLogin\" type=\"text\" @click=\"toLogin\">登录</el-button>\n          <el-button v-if=\"!isLogin\" type=\"primary\" @click=\"toRegister\">注册</el-button>\n          <template v-else>\n            <el-dropdown @command=\"handleCommand\">\n              <span class=\"user-dropdown\">\n                <el-avatar :size=\"32\" :src=\"userInfo?.avatar || ''\">{{ userInfo?.username?.charAt(0) }}</el-avatar>\n                <span class=\"user-name\">{{ userInfo?.username }}</span>\n                <el-icon class=\"el-icon--right\"><arrow-down /></el-icon>\n              </span>\n              <template #dropdown>\n                <el-dropdown-menu>\n                  <el-dropdown-item command=\"info\">个人中心</el-dropdown-item>\n                  <el-dropdown-item command=\"products\">我的商品</el-dropdown-item>\n                  <el-dropdown-item command=\"trades\">我的交易</el-dropdown-item>\n                  <el-dropdown-item command=\"create\" type=\"primary\">发布商品</el-dropdown-item>\n                  <el-dropdown-item command=\"logout\" divided>退出登录</el-dropdown-item>\n                </el-dropdown-menu>\n              </template>\n            </el-dropdown>\n          </template>\n        </div>\n      </div>\n    </el-header>\n\n    <!-- 内容区域 -->\n    <el-main class=\"main\">\n      <router-view v-slot=\"{ Component }\">\n        <transition name=\"fade\" mode=\"out-in\">\n          <component :is=\"Component\" />\n        </transition>\n      </router-view>\n    </el-main>\n\n    <!-- 页脚 -->\n    <el-footer class=\"footer\">\n      <div class=\"footer-content\">\n        <p>&copy; 2024 校园二手商品交易系统 - 版权所有</p>\n        <p>让闲置物品流动起来，共享美好校园生活</p>\n      </div>\n    </el-footer>\n  </div>\n</template>\n\n<script>\nimport { ArrowDown } from '@element-plus/icons-vue'\n\nexport default {\n  name: 'HomeLayout',\n  components: {\n    ArrowDown\n  },\n  data() {\n    return {\n      searchKeyword: '',\n      isLogin: false,\n      userInfo: null\n    }\n  },\n  mounted() {\n    this.checkLoginStatus()\n  },\n  methods: {\n    checkLoginStatus() {\n      const token = localStorage.getItem('token')\n      const userInfoStr = localStorage.getItem('userInfo')\n      if (token && userInfoStr) {\n        this.isLogin = true\n        this.userInfo = JSON.parse(userInfoStr)\n      }\n    },\n    handleCommand(command) {\n      switch (command) {\n        case 'info':\n          this.$router.push('/user/info')\n          break\n        case 'products':\n          this.$router.push('/user/products')\n          break\n        case 'trades':\n          this.$router.push('/user/trades')\n          break\n        case 'create':\n          this.$router.push('/product/create')\n          break\n        case 'logout':\n          this.handleLogout()\n          break\n      }\n    },\n    handleLogout() {\n      this.$confirm('确定要退出登录吗？', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        localStorage.removeItem('token')\n        localStorage.removeItem('userInfo')\n        this.isLogin = false\n        this.userInfo = null\n        this.$message.success('退出成功')\n        this.$router.push('/')\n      }).catch(() => {\n        // 取消操作\n      })\n    },\n    handleSearch() {\n      if (this.searchKeyword.trim()) {\n        this.$router.push({ path: '/', query: { keyword: this.searchKeyword } })\n      }\n    },\n    toHome() {\n      this.$router.push('/')\n    },\n    toLogin() {\n      this.$router.push('/login')\n    },\n    toRegister() {\n      this.$router.push('/register')\n    }\n  },\n  watch: {\n    // 监听路由变化，更新登录状态\n    '$route'(to, from) {\n      this.checkLoginStatus()\n    }\n  }\n}\n</script>\n\n<style scoped>\n.home-container {\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n}\n\n.header {\n  background-color: #fff;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  padding: 0;\n  height: 60px;\n}\n\n.header-content {\n  max-width: 1200px;\n  margin: 0 auto;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 20px;\n}\n\n.logo h1 {\n  font-size: 24px;\n  color: #667eea;\n  margin: 0;\n  cursor: pointer;\n}\n\n.search-container {\n  flex: 1;\n  max-width: 500px;\n  margin: 0 40px;\n}\n\n.search-input {\n  width: 100%;\n}\n\n.nav-right {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n}\n\n.user-dropdown {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  cursor: pointer;\n  padding: 4px 8px;\n  border-radius: 4px;\n  transition: background-color 0.3s;\n}\n\n.user-dropdown:hover {\n  background-color: #f5f5f5;\n}\n\n.user-name {\n  font-size: 14px;\n}\n\n.main {\n  flex: 1;\n  max-width: 1200px;\n  margin: 20px auto;\n  width: 100%;\n  padding: 0 20px;\n}\n\n.footer {\n  background-color: #f5f7fa;\n  padding: 20px 0;\n  margin-top: auto;\n}\n\n.footer-content {\n  max-width: 1200px;\n  margin: 0 auto;\n  text-align: center;\n  color: #606266;\n}\n\n.footer-content p {\n  margin: 5px 0;\n}\n\n/* 过渡动画 */\n.fade-enter-active,\n.fade-leave-active {\n  transition: opacity 0.3s ease;\n}\n\n.fade-enter-from,\n.fade-leave-to {\n  opacity: 0;\n}\n</style>","import { render } from \"./Home.vue?vue&type=template&id=6ab841fe&scoped=true\"\nimport script from \"./Home.vue?vue&type=script&lang=js\"\nexport * from \"./Home.vue?vue&type=script&lang=js\"\n\nimport \"./Home.vue?vue&type=style&index=0&id=6ab841fe&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6ab841fe\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_el_header","_createElementVNode","_hoisted_2","onClick","_cache","args","$options","toHome","_hoisted_3","_component_el_input","$data","searchKeyword","$event","placeholder","onKeyup","_withKeys","handleSearch","append","_withCtx","_component_el_button","icon","_hoisted_4","isLogin","_createBlock","type","toLogin","_component_el_dropdown","onCommand","handleCommand","dropdown","_component_el_dropdown_menu","_component_el_dropdown_item","command","divided","_hoisted_5","_component_el_avatar","size","src","userInfo","avatar","username","charAt","_hoisted_6","_toDisplayString","_component_el_icon","_component_arrow_down","toRegister","_component_el_main","_component_router_view","Component","_Transition","name","mode","_resolveDynamicComponent","_component_el_footer","components","ArrowDown","data","mounted","this","checkLoginStatus","methods","token","localStorage","getItem","userInfoStr","JSON","parse","$router","push","handleLogout","$confirm","confirmButtonText","cancelButtonText","then","removeItem","$message","success","catch","trim","path","query","keyword","watch","to","from","__exports__","render"],"sourceRoot":""}