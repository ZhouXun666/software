{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createCommentVNode as _createCommentVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"user-center-container\"\n};\nconst _hoisted_2 = {\n  class: \"tabs-container\"\n};\nconst _hoisted_3 = {\n  class: \"profile-content\"\n};\nconst _hoisted_4 = {\n  class: \"profile-header\"\n};\nconst _hoisted_5 = {\n  class: \"avatar-section\"\n};\nconst _hoisted_6 = {\n  class: \"user-info\"\n};\nconst _hoisted_7 = {\n  class: \"security-content\"\n};\nconst _hoisted_8 = {\n  class: \"security-tips\"\n};\nconst _hoisted_9 = [\"src\"];\nconst _hoisted_10 = {\n  key: 1,\n  class: \"el-icon-plus avatar-uploader-icon\"\n};\nconst _hoisted_11 = {\n  class: \"dialog-footer\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_avatar = _resolveComponent(\"el-avatar\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n  const _component_el_radio = _resolveComponent(\"el-radio\");\n  const _component_el_radio_group = _resolveComponent(\"el-radio-group\");\n  const _component_el_form = _resolveComponent(\"el-form\");\n  const _component_el_tab_pane = _resolveComponent(\"el-tab-pane\");\n  const _component_el_card = _resolveComponent(\"el-card\");\n  const _component_el_alert = _resolveComponent(\"el-alert\");\n  const _component_el_tabs = _resolveComponent(\"el-tabs\");\n  const _component_el_upload = _resolveComponent(\"el-upload\");\n  const _component_el_dialog = _resolveComponent(\"el-dialog\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_el_card, {\n    class: \"center-card\"\n  }, {\n    header: _withCtx(() => [...(_cache[12] || (_cache[12] = [_createElementVNode(\"div\", {\n      class: \"card-header\"\n    }, [_createElementVNode(\"span\", null, \"个人中心\")], -1 /* CACHED */)]))]),\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_el_tabs, {\n      modelValue: $data.activeTab,\n      \"onUpdate:modelValue\": _cache[9] || (_cache[9] = $event => $data.activeTab = $event),\n      onTabClick: $options.handleTabClick\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_tab_pane, {\n        label: \"个人信息\",\n        name: \"profile\"\n      }, {\n        default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createVNode(_component_el_avatar, {\n          size: 100,\n          src: $data.defaultAvatar\n        }, {\n          default: _withCtx(() => [_createTextVNode(_toDisplayString($options.getUserInitial($data.userInfo.username)), 1 /* TEXT */)]),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"src\"]), _createVNode(_component_el_button, {\n          type: \"primary\",\n          size: \"small\",\n          onClick: _cache[0] || (_cache[0] = $event => $data.showAvatarUpload = true),\n          class: \"change-avatar-btn\"\n        }, {\n          default: _withCtx(() => [...(_cache[13] || (_cache[13] = [_createTextVNode(\" 更换头像 \", -1 /* CACHED */)]))]),\n          _: 1 /* STABLE */\n        })]), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"h2\", null, _toDisplayString($data.userInfo.username), 1 /* TEXT */), _createElementVNode(\"p\", null, _toDisplayString($data.userInfo.email || '未设置邮箱'), 1 /* TEXT */), _createElementVNode(\"p\", null, \"注册时间：\" + _toDisplayString($options.formatDate($data.userInfo.registrationTime)), 1 /* TEXT */), _createElementVNode(\"p\", null, \"发布商品：\" + _toDisplayString($data.userStats.productCount) + \" 件\", 1 /* TEXT */), _createElementVNode(\"p\", null, \"交易成功率：\" + _toDisplayString($options.calculateSuccessRate()) + \"%\", 1 /* TEXT */)])]), _createVNode(_component_el_form, {\n          model: $data.profileForm,\n          rules: $data.profileRules,\n          ref: \"profileFormRef\",\n          \"label-width\": \"100px\",\n          class: \"profile-form\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_form_item, {\n            label: \"昵称\",\n            prop: \"nickname\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input, {\n              modelValue: $data.profileForm.nickname,\n              \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.profileForm.nickname = $event),\n              placeholder: \"请输入昵称\",\n              maxlength: \"50\",\n              \"show-word-limit\": \"\"\n            }, null, 8 /* PROPS */, [\"modelValue\"])]),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_el_form_item, {\n            label: \"性别\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_radio_group, {\n              modelValue: $data.profileForm.gender,\n              \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.profileForm.gender = $event)\n            }, {\n              default: _withCtx(() => [_createVNode(_component_el_radio, {\n                label: \"1\"\n              }, {\n                default: _withCtx(() => [...(_cache[14] || (_cache[14] = [_createTextVNode(\"男\", -1 /* CACHED */)]))]),\n                _: 1 /* STABLE */\n              }), _createVNode(_component_el_radio, {\n                label: \"2\"\n              }, {\n                default: _withCtx(() => [...(_cache[15] || (_cache[15] = [_createTextVNode(\"女\", -1 /* CACHED */)]))]),\n                _: 1 /* STABLE */\n              }), _createVNode(_component_el_radio, {\n                label: \"0\"\n              }, {\n                default: _withCtx(() => [...(_cache[16] || (_cache[16] = [_createTextVNode(\"保密\", -1 /* CACHED */)]))]),\n                _: 1 /* STABLE */\n              })]),\n              _: 1 /* STABLE */\n            }, 8 /* PROPS */, [\"modelValue\"])]),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_el_form_item, {\n            label: \"邮箱\",\n            prop: \"email\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input, {\n              modelValue: $data.profileForm.email,\n              \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.profileForm.email = $event),\n              placeholder: \"请输入邮箱\",\n              maxlength: \"100\",\n              \"show-word-limit\": \"\"\n            }, null, 8 /* PROPS */, [\"modelValue\"])]),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_el_form_item, {\n            label: \"手机号码\",\n            prop: \"phone\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input, {\n              modelValue: $data.profileForm.phone,\n              \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.profileForm.phone = $event),\n              placeholder: \"请输入手机号码\",\n              maxlength: \"20\",\n              \"show-word-limit\": \"\"\n            }, null, 8 /* PROPS */, [\"modelValue\"])]),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_el_form_item, {\n            label: \"个性签名\",\n            prop: \"bio\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input, {\n              modelValue: $data.profileForm.bio,\n              \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.profileForm.bio = $event),\n              type: \"textarea\",\n              rows: 3,\n              placeholder: \"请输入个性签名\",\n              maxlength: \"200\",\n              \"show-word-limit\": \"\"\n            }, null, 8 /* PROPS */, [\"modelValue\"])]),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_el_form_item, null, {\n            default: _withCtx(() => [_createVNode(_component_el_button, {\n              type: \"primary\",\n              onClick: $options.submitProfile,\n              loading: $data.submitting\n            }, {\n              default: _withCtx(() => [...(_cache[17] || (_cache[17] = [_createTextVNode(\"保存修改\", -1 /* CACHED */)]))]),\n              _: 1 /* STABLE */\n            }, 8 /* PROPS */, [\"onClick\", \"loading\"]), _createVNode(_component_el_button, {\n              onClick: $options.resetProfile\n            }, {\n              default: _withCtx(() => [...(_cache[18] || (_cache[18] = [_createTextVNode(\"重置\", -1 /* CACHED */)]))]),\n              _: 1 /* STABLE */\n            }, 8 /* PROPS */, [\"onClick\"])]),\n            _: 1 /* STABLE */\n          })]),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"model\", \"rules\"])])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_tab_pane, {\n        label: \"安全设置\",\n        name: \"security\"\n      }, {\n        default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_7, [_createVNode(_component_el_card, {\n          class: \"security-item\"\n        }, {\n          header: _withCtx(() => [...(_cache[19] || (_cache[19] = [_createElementVNode(\"div\", {\n            class: \"security-item-header\"\n          }, [_createElementVNode(\"span\", null, \"修改密码\")], -1 /* CACHED */)]))]),\n          default: _withCtx(() => [_createVNode(_component_el_form, {\n            model: $data.passwordForm,\n            rules: $data.passwordRules,\n            ref: \"passwordFormRef\",\n            \"label-width\": \"120px\",\n            class: \"password-form\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_form_item, {\n              label: \"原密码\",\n              prop: \"oldPassword\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_el_input, {\n                modelValue: $data.passwordForm.oldPassword,\n                \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.passwordForm.oldPassword = $event),\n                type: \"password\",\n                placeholder: \"请输入原密码\"\n              }, null, 8 /* PROPS */, [\"modelValue\"])]),\n              _: 1 /* STABLE */\n            }), _createVNode(_component_el_form_item, {\n              label: \"新密码\",\n              prop: \"newPassword\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_el_input, {\n                modelValue: $data.passwordForm.newPassword,\n                \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $data.passwordForm.newPassword = $event),\n                type: \"password\",\n                placeholder: \"请输入新密码\",\n                \"show-password\": \"\"\n              }, null, 8 /* PROPS */, [\"modelValue\"])]),\n              _: 1 /* STABLE */\n            }), _createVNode(_component_el_form_item, {\n              label: \"确认新密码\",\n              prop: \"confirmPassword\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_el_input, {\n                modelValue: $data.passwordForm.confirmPassword,\n                \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => $data.passwordForm.confirmPassword = $event),\n                type: \"password\",\n                placeholder: \"请再次输入新密码\",\n                \"show-password\": \"\"\n              }, null, 8 /* PROPS */, [\"modelValue\"])]),\n              _: 1 /* STABLE */\n            }), _createVNode(_component_el_form_item, null, {\n              default: _withCtx(() => [_createVNode(_component_el_button, {\n                type: \"primary\",\n                onClick: $options.submitPassword,\n                loading: $data.submittingPassword\n              }, {\n                default: _withCtx(() => [...(_cache[20] || (_cache[20] = [_createTextVNode(\"修改密码\", -1 /* CACHED */)]))]),\n                _: 1 /* STABLE */\n              }, 8 /* PROPS */, [\"onClick\", \"loading\"]), _createVNode(_component_el_button, {\n                onClick: $options.resetPassword\n              }, {\n                default: _withCtx(() => [...(_cache[21] || (_cache[21] = [_createTextVNode(\"重置\", -1 /* CACHED */)]))]),\n                _: 1 /* STABLE */\n              }, 8 /* PROPS */, [\"onClick\"])]),\n              _: 1 /* STABLE */\n            })]),\n            _: 1 /* STABLE */\n          }, 8 /* PROPS */, [\"model\", \"rules\"])]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_el_card, {\n          class: \"security-item\"\n        }, {\n          header: _withCtx(() => [...(_cache[22] || (_cache[22] = [_createElementVNode(\"div\", {\n            class: \"security-item-header\"\n          }, [_createElementVNode(\"span\", null, \"账户安全提示\")], -1 /* CACHED */)]))]),\n          default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_8, [_createVNode(_component_el_alert, {\n            title: \"为了您的账户安全，请定期更换密码\",\n            type: \"info\",\n            closable: false,\n            \"show-icon\": \"\"\n          }), _createVNode(_component_el_alert, {\n            title: \"请勿与他人共享您的账户信息\",\n            type: \"warning\",\n            closable: false,\n            \"show-icon\": \"\"\n          }), _createVNode(_component_el_alert, {\n            title: \"在使用完账号后，请及时登出\",\n            type: \"warning\",\n            closable: false,\n            \"show-icon\": \"\"\n          })])]),\n          _: 1 /* STABLE */\n        })])]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"modelValue\", \"onTabClick\"])])]),\n    _: 1 /* STABLE */\n  }), _createCommentVNode(\" 头像上传对话框 \"), _createVNode(_component_el_dialog, {\n    modelValue: $data.showAvatarUpload,\n    \"onUpdate:modelValue\": _cache[11] || (_cache[11] = $event => $data.showAvatarUpload = $event),\n    title: \"更换头像\",\n    width: \"30%\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_upload, {\n      class: \"avatar-uploader\",\n      action: \"\",\n      \"http-request\": $options.uploadAvatar,\n      \"show-file-list\": false,\n      \"auto-upload\": false,\n      \"on-change\": $options.handleAvatarChange,\n      accept: \"image/*\"\n    }, {\n      default: _withCtx(() => [$data.previewAvatar ? (_openBlock(), _createElementBlock(\"img\", {\n        key: 0,\n        src: $data.previewAvatar,\n        class: \"avatar\"\n      }, null, 8 /* PROPS */, _hoisted_9)) : (_openBlock(), _createElementBlock(\"i\", _hoisted_10))]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"http-request\", \"on-change\"]), _createElementVNode(\"div\", _hoisted_11, [_createVNode(_component_el_button, {\n      onClick: _cache[10] || (_cache[10] = $event => $data.showAvatarUpload = false)\n    }, {\n      default: _withCtx(() => [...(_cache[23] || (_cache[23] = [_createTextVNode(\"取消\", -1 /* CACHED */)]))]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_button, {\n      type: \"primary\",\n      onClick: $options.confirmAvatarUpload,\n      loading: $data.uploadingAvatar\n    }, {\n      default: _withCtx(() => [...(_cache[24] || (_cache[24] = [_createTextVNode(\"确定\", -1 /* CACHED */)]))]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"onClick\", \"loading\"])])]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"modelValue\"])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_el_card","header","_withCtx","_cache","_createElementVNode","_hoisted_2","_component_el_tabs","$data","activeTab","$event","onTabClick","$options","handleTabClick","_component_el_tab_pane","label","name","_hoisted_3","_hoisted_4","_hoisted_5","_component_el_avatar","size","src","defaultAvatar","getUserInitial","userInfo","username","_component_el_button","type","onClick","showAvatarUpload","_hoisted_6","_toDisplayString","email","formatDate","registrationTime","userStats","productCount","calculateSuccessRate","_component_el_form","model","profileForm","rules","profileRules","ref","_component_el_form_item","prop","_component_el_input","nickname","placeholder","maxlength","_component_el_radio_group","gender","_component_el_radio","phone","bio","rows","submitProfile","loading","submitting","resetProfile","_hoisted_7","passwordForm","passwordRules","oldPassword","newPassword","confirmPassword","submitPassword","submittingPassword","resetPassword","_hoisted_8","_component_el_alert","title","closable","_createCommentVNode","_component_el_dialog","width","_component_el_upload","action","uploadAvatar","handleAvatarChange","accept","previewAvatar","_hoisted_10","_hoisted_11","confirmAvatarUpload","uploadingAvatar"],"sources":["D:\\文档\\学习\\专业课实验报告书\\专业选修\\软件工程\\version1\\frontend\\src\\views\\UserCenter.vue"],"sourcesContent":["<template>\n  <div class=\"user-center-container\">\n    <el-card class=\"center-card\">\n      <template #header>\n        <div class=\"card-header\">\n          <span>个人中心</span>\n        </div>\n      </template>\n      \n      <div class=\"tabs-container\">\n        <el-tabs v-model=\"activeTab\" @tab-click=\"handleTabClick\">\n          <el-tab-pane label=\"个人信息\" name=\"profile\">\n            <div class=\"profile-content\">\n              <div class=\"profile-header\">\n                <div class=\"avatar-section\">\n                  <el-avatar :size=\"100\" :src=\"defaultAvatar\">\n                    {{ getUserInitial(userInfo.username) }}\n                  </el-avatar>\n                  <el-button type=\"primary\" size=\"small\" @click=\"showAvatarUpload = true\" class=\"change-avatar-btn\">\n                    更换头像\n                  </el-button>\n                </div>\n                <div class=\"user-info\">\n                  <h2>{{ userInfo.username }}</h2>\n                  <p>{{ userInfo.email || '未设置邮箱' }}</p>\n                  <p>注册时间：{{ formatDate(userInfo.registrationTime) }}</p>\n                  <p>发布商品：{{ userStats.productCount }} 件</p>\n                  <p>交易成功率：{{ calculateSuccessRate() }}%</p>\n                </div>\n              </div>\n              \n              <el-form :model=\"profileForm\" :rules=\"profileRules\" ref=\"profileFormRef\" label-width=\"100px\" class=\"profile-form\">\n                <el-form-item label=\"昵称\" prop=\"nickname\">\n                  <el-input v-model=\"profileForm.nickname\" placeholder=\"请输入昵称\" maxlength=\"50\" show-word-limit />\n                </el-form-item>\n                <el-form-item label=\"性别\">\n                  <el-radio-group v-model=\"profileForm.gender\">\n                    <el-radio label=\"1\">男</el-radio>\n                    <el-radio label=\"2\">女</el-radio>\n                    <el-radio label=\"0\">保密</el-radio>\n                  </el-radio-group>\n                </el-form-item>\n                <el-form-item label=\"邮箱\" prop=\"email\">\n                  <el-input v-model=\"profileForm.email\" placeholder=\"请输入邮箱\" maxlength=\"100\" show-word-limit />\n                </el-form-item>\n                <el-form-item label=\"手机号码\" prop=\"phone\">\n                  <el-input v-model=\"profileForm.phone\" placeholder=\"请输入手机号码\" maxlength=\"20\" show-word-limit />\n                </el-form-item>\n                <el-form-item label=\"个性签名\" prop=\"bio\">\n                  <el-input\n                    v-model=\"profileForm.bio\"\n                    type=\"textarea\"\n                    :rows=\"3\"\n                    placeholder=\"请输入个性签名\"\n                    maxlength=\"200\"\n                    show-word-limit\n                  />\n                </el-form-item>\n                <el-form-item>\n                  <el-button type=\"primary\" @click=\"submitProfile\" :loading=\"submitting\">保存修改</el-button>\n                  <el-button @click=\"resetProfile\">重置</el-button>\n                </el-form-item>\n              </el-form>\n            </div>\n          </el-tab-pane>\n          \n          <el-tab-pane label=\"安全设置\" name=\"security\">\n            <div class=\"security-content\">\n              <el-card class=\"security-item\">\n                <template #header>\n                  <div class=\"security-item-header\">\n                    <span>修改密码</span>\n                  </div>\n                </template>\n                <el-form :model=\"passwordForm\" :rules=\"passwordRules\" ref=\"passwordFormRef\" label-width=\"120px\" class=\"password-form\">\n                  <el-form-item label=\"原密码\" prop=\"oldPassword\">\n                    <el-input v-model=\"passwordForm.oldPassword\" type=\"password\" placeholder=\"请输入原密码\" />\n                  </el-form-item>\n                  <el-form-item label=\"新密码\" prop=\"newPassword\">\n                    <el-input v-model=\"passwordForm.newPassword\" type=\"password\" placeholder=\"请输入新密码\" show-password />\n                  </el-form-item>\n                  <el-form-item label=\"确认新密码\" prop=\"confirmPassword\">\n                    <el-input v-model=\"passwordForm.confirmPassword\" type=\"password\" placeholder=\"请再次输入新密码\" show-password />\n                  </el-form-item>\n                  <el-form-item>\n                    <el-button type=\"primary\" @click=\"submitPassword\" :loading=\"submittingPassword\">修改密码</el-button>\n                    <el-button @click=\"resetPassword\">重置</el-button>\n                  </el-form-item>\n                </el-form>\n              </el-card>\n              \n              <el-card class=\"security-item\">\n                <template #header>\n                  <div class=\"security-item-header\">\n                    <span>账户安全提示</span>\n                  </div>\n                </template>\n                <div class=\"security-tips\">\n                  <el-alert\n                    title=\"为了您的账户安全，请定期更换密码\"\n                    type=\"info\"\n                    :closable=\"false\"\n                    show-icon\n                  />\n                  <el-alert\n                    title=\"请勿与他人共享您的账户信息\"\n                    type=\"warning\"\n                    :closable=\"false\"\n                    show-icon\n                  />\n                  <el-alert\n                    title=\"在使用完账号后，请及时登出\"\n                    type=\"warning\"\n                    :closable=\"false\"\n                    show-icon\n                  />\n                </div>\n              </el-card>\n            </div>\n          </el-tab-pane>\n        </el-tabs>\n      </div>\n    </el-card>\n    \n    <!-- 头像上传对话框 -->\n    <el-dialog v-model=\"showAvatarUpload\" title=\"更换头像\" width=\"30%\">\n      <el-upload\n        class=\"avatar-uploader\"\n        action=\"\"\n        :http-request=\"uploadAvatar\"\n        :show-file-list=\"false\"\n        :auto-upload=\"false\"\n        :on-change=\"handleAvatarChange\"\n        accept=\"image/*\"\n      >\n        <img v-if=\"previewAvatar\" :src=\"previewAvatar\" class=\"avatar\" />\n        <i v-else class=\"el-icon-plus avatar-uploader-icon\" />\n      </el-upload>\n      <div class=\"dialog-footer\">\n        <el-button @click=\"showAvatarUpload = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"confirmAvatarUpload\" :loading=\"uploadingAvatar\">确定</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { userAPI } from '../api'\n\nexport default {\n  name: 'UserCenter',\n  data() {\n    return {\n      activeTab: 'profile',\n      userInfo: {\n        username: '',\n        email: '',\n        registrationTime: '',\n        avatar: ''\n      },\n      userStats: {\n        productCount: 0,\n        tradeSuccessCount: 0,\n        tradeTotalCount: 0\n      },\n      defaultAvatar: 'https://img.alicdn.com/imgextra/i4/O1CN01q0UcHt1h1sVt0jA8O_!!6000000004122-2-tps-112-112.png',\n      profileForm: {\n        nickname: '',\n        gender: '0',\n        email: '',\n        phone: '',\n        bio: ''\n      },\n      profileRules: {\n        nickname: [\n          { required: false, max: 50, message: '昵称不能超过50个字符', trigger: 'blur' }\n        ],\n        email: [\n          { required: false, type: 'email', message: '请输入正确的邮箱地址', trigger: 'blur' }\n        ],\n        phone: [\n          { required: false, pattern: /^1[3-9]\\d{9}$/, message: '请输入正确的手机号码', trigger: 'blur' }\n        ],\n        bio: [\n          { required: false, max: 200, message: '个性签名不能超过200个字符', trigger: 'blur' }\n        ]\n      },\n      passwordForm: {\n        oldPassword: '',\n        newPassword: '',\n        confirmPassword: ''\n      },\n      passwordRules: {\n        oldPassword: [\n          { required: true, message: '请输入原密码', trigger: 'blur' }\n        ],\n        newPassword: [\n          { required: true, message: '请输入新密码', trigger: 'blur' },\n          { min: 6, message: '密码长度至少6个字符', trigger: 'blur' }\n        ],\n        confirmPassword: [\n          { required: true, message: '请确认新密码', trigger: 'blur' },\n          {\n            validator: (rule, value, callback) => {\n              if (value !== this.passwordForm.newPassword) {\n                callback(new Error('两次输入的密码不一致'))\n              } else {\n                callback()\n              }\n            },\n            trigger: 'blur'\n          }\n        ]\n      },\n      showAvatarUpload: false,\n      previewAvatar: '',\n      avatarFile: null,\n      submitting: false,\n      submittingPassword: false,\n      uploadingAvatar: false\n    }\n  },\n  mounted() {\n    this.loadUserInfo()\n    this.loadUserStats()\n  },\n  methods: {\n    async loadUserInfo() {\n      try {\n        const response = await userAPI.getUserInfo()\n        this.userInfo = response\n        // 填充表单数据\n        this.profileForm = {\n          nickname: response.nickname || '',\n          gender: response.gender?.toString() || '0',\n          email: response.email || '',\n          phone: response.phone || '',\n          bio: response.bio || ''\n        }\n      } catch (error) {\n        this.$message.error('加载用户信息失败')\n      }\n    },\n    async loadUserStats() {\n      try {\n        const response = await userAPI.getUserStats()\n        this.userStats = response\n      } catch (error) {\n        // 使用默认统计数据\n        this.userStats = {\n          productCount: 0,\n          tradeSuccessCount: 0,\n          tradeTotalCount: 0\n        }\n      }\n    },\n    handleTabClick(tab) {\n      // 可以根据需要添加tab切换逻辑\n    },\n    getUserInitial(username) {\n      return username ? username.charAt(0).toUpperCase() : 'U'\n    },\n    formatDate(dateString) {\n      if (!dateString) return ''\n      const date = new Date(dateString)\n      return date.toLocaleString('zh-CN')\n    },\n    calculateSuccessRate() {\n      if (this.userStats.tradeTotalCount === 0) return 0\n      return Math.round((this.userStats.tradeSuccessCount / this.userStats.tradeTotalCount) * 100)\n    },\n    async submitProfile() {\n      this.$refs.profileFormRef.validate(async (valid) => {\n        if (valid) {\n          this.submitting = true\n          try {\n            await userAPI.updateUserInfo(this.profileForm)\n            this.$message.success('个人信息更新成功')\n            // 重新加载用户信息\n            this.loadUserInfo()\n          } catch (error) {\n            this.$message.error('更新失败，请重试')\n          } finally {\n            this.submitting = false\n          }\n        }\n      })\n    },\n    resetProfile() {\n      this.$refs.profileFormRef.resetFields()\n    },\n    async submitPassword() {\n      this.$refs.passwordFormRef.validate(async (valid) => {\n        if (valid) {\n          this.submittingPassword = true\n          try {\n            await userAPI.changePassword(this.passwordForm)\n            this.$message.success('密码修改成功，请重新登录')\n            this.$router.push('/login')\n          } catch (error) {\n            this.$message.error(error.response?.data?.message || '密码修改失败，请检查原密码是否正确')\n          } finally {\n            this.submittingPassword = false\n          }\n        }\n      })\n    },\n    resetPassword() {\n      this.$refs.passwordFormRef.resetFields()\n    },\n    handleAvatarChange(file) {\n      this.avatarFile = file.raw\n      this.previewAvatar = URL.createObjectURL(file.raw)\n    },\n    async uploadAvatar() {\n      // 这个方法被覆盖，实际上传在confirmAvatarUpload中处理\n    },\n    async confirmAvatarUpload() {\n      if (!this.avatarFile) {\n        this.$message.warning('请选择要上传的头像')\n        return\n      }\n      \n      this.uploadingAvatar = true\n      try {\n        const formData = new FormData()\n        formData.append('avatar', this.avatarFile)\n        \n        const response = await userAPI.uploadAvatar(formData)\n        \n        this.$message.success('头像上传成功')\n        this.showAvatarUpload = false\n        // 更新用户信息\n        this.userInfo.avatar = response.avatarUrl\n      } catch (error) {\n        this.$message.error('头像上传失败，请重试')\n      } finally {\n        this.uploadingAvatar = false\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.user-center-container {\n  padding: 0;\n}\n\n.center-card {\n  max-width: 1000px;\n  margin: 0 auto;\n}\n\n.card-header {\n  font-size: 18px;\n  font-weight: 500;\n  color: #303133;\n}\n\n.tabs-container {\n  margin-top: 20px;\n}\n\n/* 个人信息样式 */\n.profile-content {\n  padding: 20px 0;\n}\n\n.profile-header {\n  display: flex;\n  align-items: center;\n  padding-bottom: 30px;\n  border-bottom: 1px solid #EBEEF5;\n  margin-bottom: 30px;\n}\n\n.avatar-section {\n  position: relative;\n  margin-right: 40px;\n}\n\n.change-avatar-btn {\n  position: absolute;\n  bottom: -25px;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 100px;\n}\n\n.user-info h2 {\n  margin: 0 0 10px 0;\n  font-size: 24px;\n  font-weight: 500;\n}\n\n.user-info p {\n  margin: 5px 0;\n  color: #606266;\n}\n\n.profile-form {\n  max-width: 600px;\n}\n\n/* 安全设置样式 */\n.security-content {\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n}\n\n.security-item {\n  border-radius: 4px;\n}\n\n.security-item-header {\n  font-size: 16px;\n  font-weight: 500;\n  color: #303133;\n}\n\n.password-form {\n  max-width: 600px;\n}\n\n.security-tips {\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n}\n\n/* 头像上传样式 */\n.avatar-uploader {\n  display: flex;\n  justify-content: center;\n  margin: 20px 0;\n}\n\n.avatar {\n  width: 150px;\n  height: 150px;\n  object-fit: cover;\n}\n\n.avatar-uploader-icon {\n  width: 150px;\n  height: 150px;\n  line-height: 150px;\n  font-size: 40px;\n  color: #C0C4CC;\n  border: 1px dashed #DCDFE6;\n  border-radius: 4px;\n}\n\n.dialog-footer {\n  display: flex;\n  justify-content: flex-end;\n  gap: 10px;\n  margin-top: 20px;\n}\n\n/* 响应式设计 */\n@media (max-width: 768px) {\n  .center-card {\n    max-width: 100%;\n  }\n  \n  .profile-header {\n    flex-direction: column;\n    align-items: center;\n    text-align: center;\n  }\n  \n  .avatar-section {\n    margin-right: 0;\n    margin-bottom: 30px;\n  }\n  \n  .profile-form,\n  .password-form {\n    max-width: 100%;\n  }\n  \n  .el-form {\n    width: 80px;\n  }\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}