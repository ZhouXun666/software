{"ast":null,"code":"import { productAPI, tradeAPI } from '../api';\nexport default {\n  name: 'ProductDetail',\n  data() {\n    return {\n      product: null,\n      productTrades: [],\n      loading: false,\n      trading: false,\n      currentUser: null\n    };\n  },\n  computed: {\n    canBuy() {\n      return this.currentUser && !this.isMyProduct && this.product?.status === 1;\n    },\n    isMyProduct() {\n      return this.currentUser && this.product && this.product.userId === this.currentUser.id;\n    },\n    showActions() {\n      return this.isMyProduct;\n    }\n  },\n  mounted() {\n    this.currentUser = JSON.parse(localStorage.getItem('userInfo'));\n    this.loadProductDetail();\n  },\n  methods: {\n    async loadProductDetail() {\n      const productId = this.$route.params.id;\n      this.loading = true;\n      try {\n        const response = await productAPI.getProductById(productId);\n        this.product = response;\n\n        // 如果是卖家，加载交易记录\n        if (this.isMyProduct) {\n          await this.loadProductTrades();\n        }\n      } catch (error) {\n        this.$message.error('加载商品详情失败');\n        this.product = null;\n      } finally {\n        this.loading = false;\n      }\n    },\n    async loadProductTrades() {\n      try {\n        const response = await tradeAPI.getProductTrades(this.product.id);\n        this.productTrades = response;\n      } catch (error) {\n        console.error('加载交易记录失败', error);\n      }\n    },\n    getImages(images) {\n      if (!images) return 'https://img.alicdn.com/imgextra/i4/O1CN01q0UcHt1h1sVt0jA8O_!!6000000004122-2-tps-112-112.png';\n      const baseURL = 'http://localhost:8080/';\n      return `${baseURL}${images}`;\n    },\n    getCategoryName(categoryId) {\n      const categoryMap = {\n        '1': '电子产品',\n        '2': '图书文具',\n        '3': '服装鞋帽',\n        '4': '生活用品',\n        '5': '其他'\n      };\n      return categoryMap[categoryId] || '未分类';\n    },\n    formatDate(dateString) {\n      if (!dateString) return '';\n      const date = new Date(dateString);\n      return `${date.getFullYear()}-${(date.getMonth() + 1).toString().padStart(2, '0')}-${date.getDate().toString().padStart(2, '0')}`;\n    },\n    formatDateTime(dateString) {\n      if (!dateString) return '';\n      const date = new Date(dateString);\n      return `${date.getFullYear()}-${(date.getMonth() + 1).toString().padStart(2, '0')}-${date.getDate().toString().padStart(2, '0')} ${date.getHours().toString().padStart(2, '0')}:${date.getMinutes().toString().padStart(2, '0')}`;\n    },\n    contactSeller() {\n      // 这里可以实现联系卖家的逻辑，比如打开聊天窗口\n      this.$message.info('请通过电话或线下方式联系卖家');\n    },\n    async handleTrade() {\n      this.$prompt('请输入交易留言（选填）', '申请交易', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        inputPlaceholder: '请输入您的交易留言...',\n        inputPattern: /^.{0,200}$/,\n        inputErrorMessage: '留言最多200个字符'\n      }).then(async ({\n        value\n      }) => {\n        this.trading = true;\n        try {\n          const requestData = {\n            productId: this.product.id,\n            buyerId: this.currentUser.id,\n            message: value || ''\n          };\n          await tradeAPI.applyTrade(requestData);\n          this.$message.success('交易申请已提交，请等待卖家确认');\n          // 跳转到交易列表\n          this.$router.push('/user/trades');\n        } catch (error) {\n          this.$message.error(error.response?.data?.message || '申请交易失败');\n        } finally {\n          this.trading = false;\n        }\n      }).catch(() => {\n        // 取消操作\n      });\n    },\n    editProduct() {\n      this.$router.push(`/product/update/${this.product.id}`);\n    },\n    async deleteProduct() {\n      this.$confirm('确定要删除这个商品吗？删除后不可恢复。', '删除确认', {\n        confirmButtonText: '确定删除',\n        cancelButtonText: '取消',\n        type: 'warning',\n        danger: true\n      }).then(async () => {\n        try {\n          await productAPI.deleteProduct(this.product.id);\n          this.$message.success('商品删除成功');\n          this.$router.push('/user/products');\n        } catch (error) {\n          this.$message.error('删除失败');\n        }\n      }).catch(() => {\n        // 取消删除\n      });\n    },\n    async acceptTrade(tradeId) {\n      this.$confirm('确定要接受这个交易吗？接受后商品将自动下架。', '接受交易', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'primary'\n      }).then(async () => {\n        try {\n          await tradeAPI.acceptTrade(tradeId);\n          this.$message.success('交易已接受');\n          await this.loadProductTrades();\n          // 重新加载商品信息以更新状态\n          await this.loadProductDetail();\n        } catch (error) {\n          this.$message.error('操作失败');\n        }\n      }).catch(() => {\n        // 取消操作\n      });\n    },\n    async rejectTrade(tradeId) {\n      this.$confirm('确定要拒绝这个交易吗？', '拒绝交易', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(async () => {\n        try {\n          await tradeAPI.rejectTrade(tradeId);\n          this.$message.success('交易已拒绝');\n          await this.loadProductTrades();\n        } catch (error) {\n          this.$message.error('操作失败');\n        }\n      }).catch(() => {\n        // 取消操作\n      });\n    },\n    getStatusType(status) {\n      switch (status) {\n        case 0:\n          return 'info';\n        case 1:\n          return 'success';\n        case 2:\n          return 'danger';\n        case 3:\n          return 'primary';\n        case 4:\n          return 'warning';\n        default:\n          return 'default';\n      }\n    },\n    goBack() {\n      this.$router.push('/');\n    }\n  }\n};","map":{"version":3,"names":["productAPI","tradeAPI","name","data","product","productTrades","loading","trading","currentUser","computed","canBuy","isMyProduct","status","userId","id","showActions","mounted","JSON","parse","localStorage","getItem","loadProductDetail","methods","productId","$route","params","response","getProductById","loadProductTrades","error","$message","getProductTrades","console","getImages","images","baseURL","getCategoryName","categoryId","categoryMap","formatDate","dateString","date","Date","getFullYear","getMonth","toString","padStart","getDate","formatDateTime","getHours","getMinutes","contactSeller","info","handleTrade","$prompt","confirmButtonText","cancelButtonText","inputPlaceholder","inputPattern","inputErrorMessage","then","value","requestData","buyerId","message","applyTrade","success","$router","push","catch","editProduct","deleteProduct","$confirm","type","danger","acceptTrade","tradeId","rejectTrade","getStatusType","goBack"],"sources":["D:\\文档\\学习\\专业课实验报告书\\专业选修\\软件工程\\version1\\frontend\\src\\views\\ProductDetail.vue"],"sourcesContent":["<template>\n  <div class=\"product-detail-container\">\n    <div v-if=\"loading\" class=\"loading\">\n      <el-spinner type=\"spinner\" />\n      <p>加载中...</p>\n    </div>\n    <div v-else-if=\"product\" class=\"product-detail\">\n      <!-- 商品图片和信息 -->\n      <div class=\"product-main\">\n        <div class=\"product-images\">\n          <!-- <el-carousel :interval=\"4000\" type=\"card\" height=\"400px\" indicator-position=\"outside\">\n            <el-carousel-item v-for=\"(image, index) in getImages(product.images)\" :key=\"index\">\n              <img :src=\"image\" :alt=\"product.name + '-' + (index + 1)\" />\n            </el-carousel-item>\n          </el-carousel> -->\n            <img :src=\"getImages(product.images)\" class=\"product-images\" />\n        </div>\n        <div class=\"product-info\">\n          <h1 class=\"product-title\">{{ product.name }}</h1>\n          <div class=\"product-price\">¥{{ product.price }}</div>\n          <div class=\"product-meta\">\n            <div class=\"meta-item\">\n              <span class=\"meta-label\">分类：</span>\n              <span class=\"meta-value\">{{ getCategoryName(product.categoryId) }}</span>\n            </div>\n            <div class=\"meta-item\">\n              <span class=\"meta-label\">发布时间：</span>\n              <span class=\"meta-value\">{{ formatDate(product.createTime) }}</span>\n            </div>\n            <div class=\"meta-item\">\n              <span class=\"meta-label\">浏览次数：</span>\n              <span class=\"meta-value\">{{ product.viewCount || 0 }}</span>\n            </div>\n          </div>\n          <div class=\"product-seller\">\n            <el-avatar :size=\"40\" :src=\"product.userAvatar || ''\">{{ product.username?.charAt(0) }}</el-avatar>\n            <div class=\"seller-info\">\n              <div class=\"seller-name\">{{ product.username || '用户' }}</div>\n              <el-button type=\"primary\" size=\"small\" @click=\"contactSeller\">联系卖家</el-button>\n            </div>\n          </div>\n          <div class=\"product-actions\">\n            <el-button\n              v-if=\"canBuy\"\n              type=\"primary\"\n              size=\"large\"\n              @click=\"handleTrade\"\n              :loading=\"trading\"\n              class=\"action-btn\"\n            >\n              申请交易\n            </el-button>\n            <el-button\n              v-else-if=\"isMyProduct\"\n              type=\"success\"\n              size=\"large\"\n              @click=\"editProduct\"\n              class=\"action-btn\"\n            >\n              编辑商品\n            </el-button>\n            <el-button\n              v-if=\"isMyProduct\"\n              type=\"danger\"\n              size=\"large\"\n              @click=\"deleteProduct\"\n              class=\"action-btn\"\n            >\n              删除商品\n            </el-button>\n          </div>\n        </div>\n      </div>\n\n      <!-- 商品描述 -->\n      <el-card class=\"description-card\">\n        <template #header>\n          <div class=\"card-header\">商品描述</div>\n        </template>\n        <div class=\"product-description\">{{ product.description }}</div>\n      </el-card>\n\n      <!-- 交易记录（仅卖家可见） -->\n      <el-card v-if=\"isMyProduct\" class=\"trades-card\">\n        <template #header>\n          <div class=\"card-header\">交易记录</div>\n        </template>\n        <el-table :data=\"productTrades\" style=\"width: 100%\">\n          <el-table-column prop=\"buyerName\" label=\"买家\" width=\"120\" />\n          <el-table-column prop=\"message\" label=\"留言\" />\n          <el-table-column prop=\"statusText\" label=\"状态\" width=\"100\">\n            <template #default=\"{ row }\">\n              <el-tag :type=\"getStatusType(row.status)\">{{ row.statusText }}</el-tag>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"createTime\" label=\"申请时间\" width=\"180\" :formatter=\"formatDateTime\" />\n          <el-table-column label=\"操作\" width=\"200\" v-if=\"showActions\">\n            <template #default=\"{ row }\">\n              <el-button v-if=\"row.status === 0\" type=\"primary\" size=\"small\" @click=\"acceptTrade(row.id)\">接受</el-button>\n              <el-button v-if=\"row.status === 0\" type=\"danger\" size=\"small\" @click=\"rejectTrade(row.id)\">拒绝</el-button>\n            </template>\n          </el-table-column>\n        </el-table>\n        <div v-if=\"productTrades.length === 0\" class=\"empty-message\">暂无交易记录</div>\n      </el-card>\n    </div>\n    <div v-else class=\"not-found\">\n      <el-empty description=\"商品不存在或已下架\" />\n      <el-button type=\"primary\" @click=\"goBack\">返回首页</el-button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { productAPI, tradeAPI } from '../api'\n\nexport default {\n  name: 'ProductDetail',\n  data() {\n    return {\n      product: null,\n      productTrades: [],\n      loading: false,\n      trading: false,\n      currentUser: null\n    }\n  },\n  computed: {\n    canBuy() {\n      return this.currentUser && !this.isMyProduct && this.product?.status === 1\n    },\n    isMyProduct() {\n      return this.currentUser && this.product && this.product.userId === this.currentUser.id\n    },\n    showActions() {\n      return this.isMyProduct\n    }\n  },\n  mounted() {\n    this.currentUser = JSON.parse(localStorage.getItem('userInfo'))\n    this.loadProductDetail()\n  },\n  methods: {\n    async loadProductDetail() {\n      const productId = this.$route.params.id\n      this.loading = true\n      try {\n        const response = await productAPI.getProductById(productId)\n        this.product = response\n        \n        // 如果是卖家，加载交易记录\n        if (this.isMyProduct) {\n          await this.loadProductTrades()\n        }\n      } catch (error) {\n        this.$message.error('加载商品详情失败')\n        this.product = null\n      } finally {\n        this.loading = false\n      }\n    },\n    async loadProductTrades() {\n      try {\n        const response = await tradeAPI.getProductTrades(this.product.id)\n        this.productTrades = response\n      } catch (error) {\n        console.error('加载交易记录失败', error)\n      }\n    },\n    getImages(images) {\n      if (!images) return 'https://img.alicdn.com/imgextra/i4/O1CN01q0UcHt1h1sVt0jA8O_!!6000000004122-2-tps-112-112.png'\n      const baseURL = 'http://localhost:8080/'\n      return `${baseURL}${images}`\n    },\n    getCategoryName(categoryId) {\n      const categoryMap = {\n        '1': '电子产品',\n        '2': '图书文具',\n        '3': '服装鞋帽',\n        '4': '生活用品',\n        '5': '其他'\n      }\n      return categoryMap[categoryId] || '未分类'\n    },\n    formatDate(dateString) {\n      if (!dateString) return ''\n      const date = new Date(dateString)\n      return `${date.getFullYear()}-${(date.getMonth() + 1).toString().padStart(2, '0')}-${date.getDate().toString().padStart(2, '0')}`\n    },\n    formatDateTime(dateString) {\n      if (!dateString) return ''\n      const date = new Date(dateString)\n      return `${date.getFullYear()}-${(date.getMonth() + 1).toString().padStart(2, '0')}-${date.getDate().toString().padStart(2, '0')} ${date.getHours().toString().padStart(2, '0')}:${date.getMinutes().toString().padStart(2, '0')}`\n    },\n    contactSeller() {\n      // 这里可以实现联系卖家的逻辑，比如打开聊天窗口\n      this.$message.info('请通过电话或线下方式联系卖家')\n    },\n    async handleTrade() {\n      this.$prompt('请输入交易留言（选填）', '申请交易', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        inputPlaceholder: '请输入您的交易留言...',\n        inputPattern: /^.{0,200}$/,\n        inputErrorMessage: '留言最多200个字符'\n      }).then(async ({ value }) => {\n        this.trading = true\n        try {\n          const requestData = {\n            productId: this.product.id,\n            buyerId: this.currentUser.id,\n            message: value || ''\n          }\n          await tradeAPI.applyTrade(requestData)\n          this.$message.success('交易申请已提交，请等待卖家确认')\n          // 跳转到交易列表\n          this.$router.push('/user/trades')\n        } catch (error) {\n          this.$message.error(error.response?.data?.message || '申请交易失败')\n        } finally {\n          this.trading = false\n        }\n      }).catch(() => {\n        // 取消操作\n      })\n    },\n    editProduct() {\n      this.$router.push(`/product/update/${this.product.id}`)\n    },\n    async deleteProduct() {\n      this.$confirm('确定要删除这个商品吗？删除后不可恢复。', '删除确认', {\n        confirmButtonText: '确定删除',\n        cancelButtonText: '取消',\n        type: 'warning',\n        danger: true\n      }).then(async () => {\n        try {\n          await productAPI.deleteProduct(this.product.id)\n          this.$message.success('商品删除成功')\n          this.$router.push('/user/products')\n        } catch (error) {\n          this.$message.error('删除失败')\n        }\n      }).catch(() => {\n        // 取消删除\n      })\n    },\n    async acceptTrade(tradeId) {\n      this.$confirm('确定要接受这个交易吗？接受后商品将自动下架。', '接受交易', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'primary'\n      }).then(async () => {\n        try {\n          await tradeAPI.acceptTrade(tradeId)\n          this.$message.success('交易已接受')\n          await this.loadProductTrades()\n          // 重新加载商品信息以更新状态\n          await this.loadProductDetail()\n        } catch (error) {\n          this.$message.error('操作失败')\n        }\n      }).catch(() => {\n        // 取消操作\n      })\n    },\n    async rejectTrade(tradeId) {\n      this.$confirm('确定要拒绝这个交易吗？', '拒绝交易', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(async () => {\n        try {\n          await tradeAPI.rejectTrade(tradeId)\n          this.$message.success('交易已拒绝')\n          await this.loadProductTrades()\n        } catch (error) {\n          this.$message.error('操作失败')\n        }\n      }).catch(() => {\n        // 取消操作\n      })\n    },\n    getStatusType(status) {\n      switch (status) {\n        case 0: return 'info'\n        case 1: return 'success'\n        case 2: return 'danger'\n        case 3: return 'primary'\n        case 4: return 'warning'\n        default: return 'default'\n      }\n    },\n    goBack() {\n      this.$router.push('/')\n    }\n  }\n}\n</script>\n\n<style scoped>\n.product-detail-container {\n  padding: 0;\n}\n\n.loading,\n.not-found {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: 400px;\n  gap: 20px;\n}\n\n.product-detail {\n  padding-bottom: 40px;\n}\n\n.product-main {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 30px;\n  margin-bottom: 30px;\n}\n\n.product-image {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.product-info {\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n}\n\n.product-title {\n  font-size: 24px;\n  font-weight: 600;\n  margin: 0;\n  color: #303133;\n  line-height: 1.4;\n}\n\n.product-price {\n  font-size: 32px;\n  font-weight: bold;\n  color: #f56c6c;\n  margin: 20px 0;\n}\n\n.product-meta {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  padding: 20px;\n  background-color: #f5f7fa;\n  border-radius: 8px;\n}\n\n.meta-item {\n  display: flex;\n  gap: 10px;\n}\n\n.meta-label {\n  color: #606266;\n  font-size: 14px;\n  width: 80px;\n}\n\n.meta-value {\n  color: #303133;\n  font-size: 14px;\n  flex: 1;\n}\n\n.product-seller {\n  display: flex;\n  align-items: center;\n  gap: 15px;\n  padding: 20px;\n  background-color: #f5f7fa;\n  border-radius: 8px;\n}\n\n.seller-info {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.seller-name {\n  font-size: 16px;\n  font-weight: 500;\n  color: #303133;\n}\n\n.product-actions {\n  display: flex;\n  gap: 15px;\n  margin-top: auto;\n}\n\n.action-btn {\n  flex: 1;\n  height: 48px;\n  font-size: 16px;\n}\n\n.description-card,\n.trades-card {\n  margin-bottom: 30px;\n}\n\n.card-header {\n  font-size: 18px;\n  font-weight: 500;\n  color: #303133;\n}\n\n.product-description {\n  font-size: 16px;\n  line-height: 1.8;\n  color: #606266;\n  white-space: pre-wrap;\n}\n\n.empty-message {\n  text-align: center;\n  padding: 40px 0;\n  color: #909399;\n}\n\n@media (max-width: 768px) {\n  .product-main {\n    grid-template-columns: 1fr;\n  }\n  \n  .product-actions {\n    flex-direction: column;\n  }\n  \n  .product-title {\n    font-size: 20px;\n  }\n  \n  .product-price {\n    font-size: 28px;\n  }\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}