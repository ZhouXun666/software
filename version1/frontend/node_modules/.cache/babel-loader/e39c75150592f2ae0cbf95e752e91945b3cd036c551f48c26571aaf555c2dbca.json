{"ast":null,"code":"import { createApp } from 'vue';\nimport ElementPlus from 'element-plus';\nimport 'element-plus/dist/index.css';\nimport App from './App.vue';\nimport router from './router';\nimport axios from 'axios';\n\n// 创建Vue应用实例\nconst app = createApp(App);\n\n// 配置Element Plus\napp.use(ElementPlus);\n\n// 配置路由\napp.use(router);\n\n// 配置Axios\naxios.defaults.baseURL = '/api';\naxios.defaults.timeout = 10000;\n\n// 请求拦截器 - 添加token\naxios.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n}, error => {\n  return Promise.reject(error);\n});\n\n// 响应拦截器 - 处理错误\naxios.interceptors.response.use(response => {\n  return response.data;\n}, error => {\n  if (error.response) {\n    console.log('错误');\n    // 处理401未授权\n    if (error.response.status === 401) {\n      localStorage.removeItem('token');\n      localStorage.removeItem('userInfo');\n      router.push('/login');\n    }\n    // 显示错误消息\n    if (error.response.data && error.response.data.message) {\n      console.error(error.response.data.message);\n    } else {\n      console.error('请求失败');\n    }\n  }\n  return Promise.reject(error);\n});\n\n// 将axios挂载到全局属性\napp.config.globalProperties.$axios = axios;\n\n// 挂载应用\napp.mount('#app');","map":{"version":3,"names":["createApp","ElementPlus","App","router","axios","app","use","defaults","baseURL","timeout","interceptors","request","config","token","localStorage","getItem","headers","Authorization","error","Promise","reject","response","data","console","log","status","removeItem","push","message","globalProperties","$axios","mount"],"sources":["D:/文档/学习/专业课实验报告书/专业选修/软件工程/version1/frontend/src/main.js"],"sourcesContent":["import { createApp } from 'vue'\nimport ElementPlus from 'element-plus'\nimport 'element-plus/dist/index.css'\nimport App from './App.vue'\nimport router from './router'\nimport axios from 'axios'\n\n// 创建Vue应用实例\nconst app = createApp(App)\n\n// 配置Element Plus\napp.use(ElementPlus)\n\n// 配置路由\napp.use(router)\n\n// 配置Axios\naxios.defaults.baseURL = '/api'\naxios.defaults.timeout = 10000\n\n// 请求拦截器 - 添加token\naxios.interceptors.request.use(config => {\n  const token = localStorage.getItem('token')\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`\n  }\n  return config\n}, error => {\n  return Promise.reject(error)\n})\n\n// 响应拦截器 - 处理错误\naxios.interceptors.response.use(response => {\n  return response.data\n}, error => {\n  if (error.response) {\n    console.log('错误')\n    // 处理401未授权\n    if (error.response.status === 401) {\n      localStorage.removeItem('token')\n      localStorage.removeItem('userInfo')\n      router.push('/login')\n    }\n    // 显示错误消息\n    if (error.response.data && error.response.data.message) {\n      console.error(error.response.data.message)\n    } else {\n      console.error('请求失败')\n    }\n  }\n  return Promise.reject(error)\n})\n\n// 将axios挂载到全局属性\napp.config.globalProperties.$axios = axios\n\n// 挂载应用\napp.mount('#app')"],"mappings":"AAAA,SAASA,SAAS,QAAQ,KAAK;AAC/B,OAAOC,WAAW,MAAM,cAAc;AACtC,OAAO,6BAA6B;AACpC,OAAOC,GAAG,MAAM,WAAW;AAC3B,OAAOC,MAAM,MAAM,UAAU;AAC7B,OAAOC,KAAK,MAAM,OAAO;;AAEzB;AACA,MAAMC,GAAG,GAAGL,SAAS,CAACE,GAAG,CAAC;;AAE1B;AACAG,GAAG,CAACC,GAAG,CAACL,WAAW,CAAC;;AAEpB;AACAI,GAAG,CAACC,GAAG,CAACH,MAAM,CAAC;;AAEf;AACAC,KAAK,CAACG,QAAQ,CAACC,OAAO,GAAG,MAAM;AAC/BJ,KAAK,CAACG,QAAQ,CAACE,OAAO,GAAG,KAAK;;AAE9B;AACAL,KAAK,CAACM,YAAY,CAACC,OAAO,CAACL,GAAG,CAACM,MAAM,IAAI;EACvC,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,IAAIF,KAAK,EAAE;IACTD,MAAM,CAACI,OAAO,CAACC,aAAa,GAAG,UAAUJ,KAAK,EAAE;EAClD;EACA,OAAOD,MAAM;AACf,CAAC,EAAEM,KAAK,IAAI;EACV,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CAAC,CAAC;;AAEF;AACAd,KAAK,CAACM,YAAY,CAACW,QAAQ,CAACf,GAAG,CAACe,QAAQ,IAAI;EAC1C,OAAOA,QAAQ,CAACC,IAAI;AACtB,CAAC,EAAEJ,KAAK,IAAI;EACV,IAAIA,KAAK,CAACG,QAAQ,EAAE;IAClBE,OAAO,CAACC,GAAG,CAAC,IAAI,CAAC;IACjB;IACA,IAAIN,KAAK,CAACG,QAAQ,CAACI,MAAM,KAAK,GAAG,EAAE;MACjCX,YAAY,CAACY,UAAU,CAAC,OAAO,CAAC;MAChCZ,YAAY,CAACY,UAAU,CAAC,UAAU,CAAC;MACnCvB,MAAM,CAACwB,IAAI,CAAC,QAAQ,CAAC;IACvB;IACA;IACA,IAAIT,KAAK,CAACG,QAAQ,CAACC,IAAI,IAAIJ,KAAK,CAACG,QAAQ,CAACC,IAAI,CAACM,OAAO,EAAE;MACtDL,OAAO,CAACL,KAAK,CAACA,KAAK,CAACG,QAAQ,CAACC,IAAI,CAACM,OAAO,CAAC;IAC5C,CAAC,MAAM;MACLL,OAAO,CAACL,KAAK,CAAC,MAAM,CAAC;IACvB;EACF;EACA,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CAAC,CAAC;;AAEF;AACAb,GAAG,CAACO,MAAM,CAACiB,gBAAgB,CAACC,MAAM,GAAG1B,KAAK;;AAE1C;AACAC,GAAG,CAAC0B,KAAK,CAAC,MAAM,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}