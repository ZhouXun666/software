{"ast":null,"code":"import { userAPI } from '../api';\nexport default {\n  name: 'UserCenter',\n  data() {\n    return {\n      activeTab: 'profile',\n      userInfo: {\n        username: '',\n        email: '',\n        registrationTime: '',\n        avatar: ''\n      },\n      userStats: {\n        productCount: 0,\n        tradeSuccessCount: 0,\n        tradeTotalCount: 0\n      },\n      defaultAvatar: 'https://img.alicdn.com/imgextra/i4/O1CN01q0UcHt1h1sVt0jA8O_!!6000000004122-2-tps-112-112.png',\n      profileForm: {\n        nickname: '',\n        gender: '0',\n        email: '',\n        phone: '',\n        bio: ''\n      },\n      profileRules: {\n        nickname: [{\n          required: false,\n          max: 50,\n          message: '昵称不能超过50个字符',\n          trigger: 'blur'\n        }],\n        email: [{\n          required: false,\n          type: 'email',\n          message: '请输入正确的邮箱地址',\n          trigger: 'blur'\n        }],\n        phone: [{\n          required: false,\n          pattern: /^1[3-9]\\d{9}$/,\n          message: '请输入正确的手机号码',\n          trigger: 'blur'\n        }],\n        bio: [{\n          required: false,\n          max: 200,\n          message: '个性签名不能超过200个字符',\n          trigger: 'blur'\n        }]\n      },\n      passwordForm: {\n        oldPassword: '',\n        newPassword: '',\n        confirmPassword: ''\n      },\n      passwordRules: {\n        oldPassword: [{\n          required: true,\n          message: '请输入原密码',\n          trigger: 'blur'\n        }],\n        newPassword: [{\n          required: true,\n          message: '请输入新密码',\n          trigger: 'blur'\n        }, {\n          min: 6,\n          message: '密码长度至少6个字符',\n          trigger: 'blur'\n        }],\n        confirmPassword: [{\n          required: true,\n          message: '请确认新密码',\n          trigger: 'blur'\n        }, {\n          validator: (rule, value, callback) => {\n            if (value !== this.passwordForm.newPassword) {\n              callback(new Error('两次输入的密码不一致'));\n            } else {\n              callback();\n            }\n          },\n          trigger: 'blur'\n        }]\n      },\n      showAvatarUpload: false,\n      previewAvatar: '',\n      avatarFile: null,\n      submitting: false,\n      submittingPassword: false,\n      uploadingAvatar: false\n    };\n  },\n  mounted() {\n    this.loadUserInfo();\n    this.loadUserStats();\n  },\n  methods: {\n    async loadUserInfo() {\n      try {\n        const response = await userAPI.getUserInfo();\n        this.userInfo = response;\n        // 填充表单数据\n        this.profileForm = {\n          nickname: response.nickname || '',\n          gender: response.gender?.toString() || '0',\n          email: response.email || '',\n          phone: response.phone || '',\n          bio: response.bio || ''\n        };\n      } catch (error) {\n        this.$message.error('加载用户信息失败');\n      }\n    },\n    async loadUserStats() {\n      try {\n        const response = await userAPI.getUserStats();\n        this.userStats = response;\n      } catch (error) {\n        // 使用默认统计数据\n        this.userStats = {\n          productCount: 0,\n          tradeSuccessCount: 0,\n          tradeTotalCount: 0\n        };\n      }\n    },\n    handleTabClick(tab) {\n      // 可以根据需要添加tab切换逻辑\n    },\n    getUserInitial(username) {\n      return username ? username.charAt(0).toUpperCase() : 'U';\n    },\n    formatDate(dateString) {\n      if (!dateString) return '';\n      const date = new Date(dateString);\n      return date.toLocaleString('zh-CN');\n    },\n    calculateSuccessRate() {\n      if (this.userStats.tradeTotalCount === 0) return 0;\n      return Math.round(this.userStats.tradeSuccessCount / this.userStats.tradeTotalCount * 100);\n    },\n    async submitProfile() {\n      this.$refs.profileFormRef.validate(async valid => {\n        if (valid) {\n          this.submitting = true;\n          try {\n            await userAPI.updateUserInfo(this.profileForm);\n            this.$message.success('个人信息更新成功');\n            // 重新加载用户信息\n            this.loadUserInfo();\n          } catch (error) {\n            this.$message.error('更新失败，请重试');\n          } finally {\n            this.submitting = false;\n          }\n        }\n      });\n    },\n    resetProfile() {\n      this.$refs.profileFormRef.resetFields();\n    },\n    async submitPassword() {\n      this.$refs.passwordFormRef.validate(async valid => {\n        if (valid) {\n          this.submittingPassword = true;\n          try {\n            await userAPI.changePassword(this.passwordForm);\n            this.$message.success('密码修改成功，请重新登录');\n            this.$router.push('/login');\n          } catch (error) {\n            this.$message.error(error.response?.data?.message || '密码修改失败，请检查原密码是否正确');\n          } finally {\n            this.submittingPassword = false;\n          }\n        }\n      });\n    },\n    resetPassword() {\n      this.$refs.passwordFormRef.resetFields();\n    },\n    handleAvatarChange(file) {\n      this.avatarFile = file.raw;\n      this.previewAvatar = URL.createObjectURL(file.raw);\n    },\n    async uploadAvatar() {\n      // 这个方法被覆盖，实际上传在confirmAvatarUpload中处理\n    },\n    async confirmAvatarUpload() {\n      if (!this.avatarFile) {\n        this.$message.warning('请选择要上传的头像');\n        return;\n      }\n      this.uploadingAvatar = true;\n      try {\n        const formData = new FormData();\n        formData.append('avatar', this.avatarFile);\n        const response = await userAPI.uploadAvatar(formData);\n        this.$message.success('头像上传成功');\n        this.showAvatarUpload = false;\n        // 更新用户信息\n        this.userInfo.avatar = response.avatarUrl;\n      } catch (error) {\n        this.$message.error('头像上传失败，请重试');\n      } finally {\n        this.uploadingAvatar = false;\n      }\n    }\n  }\n};","map":{"version":3,"names":["userAPI","name","data","activeTab","userInfo","username","email","registrationTime","avatar","userStats","productCount","tradeSuccessCount","tradeTotalCount","defaultAvatar","profileForm","nickname","gender","phone","bio","profileRules","required","max","message","trigger","type","pattern","passwordForm","oldPassword","newPassword","confirmPassword","passwordRules","min","validator","rule","value","callback","Error","showAvatarUpload","previewAvatar","avatarFile","submitting","submittingPassword","uploadingAvatar","mounted","loadUserInfo","loadUserStats","methods","response","getUserInfo","toString","error","$message","getUserStats","handleTabClick","tab","getUserInitial","charAt","toUpperCase","formatDate","dateString","date","Date","toLocaleString","calculateSuccessRate","Math","round","submitProfile","$refs","profileFormRef","validate","valid","updateUserInfo","success","resetProfile","resetFields","submitPassword","passwordFormRef","changePassword","$router","push","resetPassword","handleAvatarChange","file","raw","URL","createObjectURL","uploadAvatar","confirmAvatarUpload","warning","formData","FormData","append","avatarUrl"],"sources":["D:\\文档\\学习\\专业课实验报告书\\专业选修\\软件工程\\version1\\frontend\\src\\views\\UserCenter.vue"],"sourcesContent":["<template>\n  <div class=\"user-center-container\">\n    <el-card class=\"center-card\">\n      <template #header>\n        <div class=\"card-header\">\n          <span>个人中心</span>\n        </div>\n      </template>\n      \n      <div class=\"tabs-container\">\n        <el-tabs v-model=\"activeTab\" @tab-click=\"handleTabClick\">\n          <el-tab-pane label=\"个人信息\" name=\"profile\">\n            <div class=\"profile-content\">\n              <div class=\"profile-header\">\n                <div class=\"avatar-section\">\n                  <el-avatar :size=\"100\" :src=\"defaultAvatar\">\n                    {{ getUserInitial(userInfo.username) }}\n                  </el-avatar>\n                  <el-button type=\"primary\" size=\"small\" @click=\"showAvatarUpload = true\" class=\"change-avatar-btn\">\n                    更换头像\n                  </el-button>\n                </div>\n                <div class=\"user-info\">\n                  <h2>{{ userInfo.username }}</h2>\n                  <p>{{ userInfo.email || '未设置邮箱' }}</p>\n                  <p>注册时间：{{ formatDate(userInfo.registrationTime) }}</p>\n                  <p>发布商品：{{ userStats.productCount }} 件</p>\n                  <p>交易成功率：{{ calculateSuccessRate() }}%</p>\n                </div>\n              </div>\n              \n              <el-form :model=\"profileForm\" :rules=\"profileRules\" ref=\"profileFormRef\" label-width=\"100px\" class=\"profile-form\">\n                <el-form-item label=\"昵称\" prop=\"nickname\">\n                  <el-input v-model=\"profileForm.nickname\" placeholder=\"请输入昵称\" maxlength=\"50\" show-word-limit />\n                </el-form-item>\n                <el-form-item label=\"性别\">\n                  <el-radio-group v-model=\"profileForm.gender\">\n                    <el-radio label=\"1\">男</el-radio>\n                    <el-radio label=\"2\">女</el-radio>\n                    <el-radio label=\"0\">保密</el-radio>\n                  </el-radio-group>\n                </el-form-item>\n                <el-form-item label=\"邮箱\" prop=\"email\">\n                  <el-input v-model=\"profileForm.email\" placeholder=\"请输入邮箱\" maxlength=\"100\" show-word-limit />\n                </el-form-item>\n                <el-form-item label=\"手机号码\" prop=\"phone\">\n                  <el-input v-model=\"profileForm.phone\" placeholder=\"请输入手机号码\" maxlength=\"20\" show-word-limit />\n                </el-form-item>\n                <el-form-item label=\"个性签名\" prop=\"bio\">\n                  <el-input\n                    v-model=\"profileForm.bio\"\n                    type=\"textarea\"\n                    :rows=\"3\"\n                    placeholder=\"请输入个性签名\"\n                    maxlength=\"200\"\n                    show-word-limit\n                  />\n                </el-form-item>\n                <el-form-item>\n                  <el-button type=\"primary\" @click=\"submitProfile\" :loading=\"submitting\">保存修改</el-button>\n                  <el-button @click=\"resetProfile\">重置</el-button>\n                </el-form-item>\n              </el-form>\n            </div>\n          </el-tab-pane>\n          \n          <el-tab-pane label=\"安全设置\" name=\"security\">\n            <div class=\"security-content\">\n              <el-card class=\"security-item\">\n                <template #header>\n                  <div class=\"security-item-header\">\n                    <span>修改密码</span>\n                  </div>\n                </template>\n                <el-form :model=\"passwordForm\" :rules=\"passwordRules\" ref=\"passwordFormRef\" label-width=\"120px\" class=\"password-form\">\n                  <el-form-item label=\"原密码\" prop=\"oldPassword\">\n                    <el-input v-model=\"passwordForm.oldPassword\" type=\"password\" placeholder=\"请输入原密码\" />\n                  </el-form-item>\n                  <el-form-item label=\"新密码\" prop=\"newPassword\">\n                    <el-input v-model=\"passwordForm.newPassword\" type=\"password\" placeholder=\"请输入新密码\" show-password />\n                  </el-form-item>\n                  <el-form-item label=\"确认新密码\" prop=\"confirmPassword\">\n                    <el-input v-model=\"passwordForm.confirmPassword\" type=\"password\" placeholder=\"请再次输入新密码\" show-password />\n                  </el-form-item>\n                  <el-form-item>\n                    <el-button type=\"primary\" @click=\"submitPassword\" :loading=\"submittingPassword\">修改密码</el-button>\n                    <el-button @click=\"resetPassword\">重置</el-button>\n                  </el-form-item>\n                </el-form>\n              </el-card>\n              \n              <el-card class=\"security-item\">\n                <template #header>\n                  <div class=\"security-item-header\">\n                    <span>账户安全提示</span>\n                  </div>\n                </template>\n                <div class=\"security-tips\">\n                  <el-alert\n                    title=\"为了您的账户安全，请定期更换密码\"\n                    type=\"info\"\n                    :closable=\"false\"\n                    show-icon\n                  />\n                  <el-alert\n                    title=\"请勿与他人共享您的账户信息\"\n                    type=\"warning\"\n                    :closable=\"false\"\n                    show-icon\n                  />\n                  <el-alert\n                    title=\"在使用完账号后，请及时登出\"\n                    type=\"warning\"\n                    :closable=\"false\"\n                    show-icon\n                  />\n                </div>\n              </el-card>\n            </div>\n          </el-tab-pane>\n        </el-tabs>\n      </div>\n    </el-card>\n    \n    <!-- 头像上传对话框 -->\n    <el-dialog v-model=\"showAvatarUpload\" title=\"更换头像\" width=\"30%\">\n      <el-upload\n        class=\"avatar-uploader\"\n        action=\"\"\n        :http-request=\"uploadAvatar\"\n        :show-file-list=\"false\"\n        :auto-upload=\"false\"\n        :on-change=\"handleAvatarChange\"\n        accept=\"image/*\"\n      >\n        <img v-if=\"previewAvatar\" :src=\"previewAvatar\" class=\"avatar\" />\n        <i v-else class=\"el-icon-plus avatar-uploader-icon\" />\n      </el-upload>\n      <div class=\"dialog-footer\">\n        <el-button @click=\"showAvatarUpload = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"confirmAvatarUpload\" :loading=\"uploadingAvatar\">确定</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { userAPI } from '../api'\n\nexport default {\n  name: 'UserCenter',\n  data() {\n    return {\n      activeTab: 'profile',\n      userInfo: {\n        username: '',\n        email: '',\n        registrationTime: '',\n        avatar: ''\n      },\n      userStats: {\n        productCount: 0,\n        tradeSuccessCount: 0,\n        tradeTotalCount: 0\n      },\n      defaultAvatar: 'https://img.alicdn.com/imgextra/i4/O1CN01q0UcHt1h1sVt0jA8O_!!6000000004122-2-tps-112-112.png',\n      profileForm: {\n        nickname: '',\n        gender: '0',\n        email: '',\n        phone: '',\n        bio: ''\n      },\n      profileRules: {\n        nickname: [\n          { required: false, max: 50, message: '昵称不能超过50个字符', trigger: 'blur' }\n        ],\n        email: [\n          { required: false, type: 'email', message: '请输入正确的邮箱地址', trigger: 'blur' }\n        ],\n        phone: [\n          { required: false, pattern: /^1[3-9]\\d{9}$/, message: '请输入正确的手机号码', trigger: 'blur' }\n        ],\n        bio: [\n          { required: false, max: 200, message: '个性签名不能超过200个字符', trigger: 'blur' }\n        ]\n      },\n      passwordForm: {\n        oldPassword: '',\n        newPassword: '',\n        confirmPassword: ''\n      },\n      passwordRules: {\n        oldPassword: [\n          { required: true, message: '请输入原密码', trigger: 'blur' }\n        ],\n        newPassword: [\n          { required: true, message: '请输入新密码', trigger: 'blur' },\n          { min: 6, message: '密码长度至少6个字符', trigger: 'blur' }\n        ],\n        confirmPassword: [\n          { required: true, message: '请确认新密码', trigger: 'blur' },\n          {\n            validator: (rule, value, callback) => {\n              if (value !== this.passwordForm.newPassword) {\n                callback(new Error('两次输入的密码不一致'))\n              } else {\n                callback()\n              }\n            },\n            trigger: 'blur'\n          }\n        ]\n      },\n      showAvatarUpload: false,\n      previewAvatar: '',\n      avatarFile: null,\n      submitting: false,\n      submittingPassword: false,\n      uploadingAvatar: false\n    }\n  },\n  mounted() {\n    this.loadUserInfo()\n    this.loadUserStats()\n  },\n  methods: {\n    async loadUserInfo() {\n      try {\n        const response = await userAPI.getUserInfo()\n        this.userInfo = response\n        // 填充表单数据\n        this.profileForm = {\n          nickname: response.nickname || '',\n          gender: response.gender?.toString() || '0',\n          email: response.email || '',\n          phone: response.phone || '',\n          bio: response.bio || ''\n        }\n      } catch (error) {\n        this.$message.error('加载用户信息失败')\n      }\n    },\n    async loadUserStats() {\n      try {\n        const response = await userAPI.getUserStats()\n        this.userStats = response\n      } catch (error) {\n        // 使用默认统计数据\n        this.userStats = {\n          productCount: 0,\n          tradeSuccessCount: 0,\n          tradeTotalCount: 0\n        }\n      }\n    },\n    handleTabClick(tab) {\n      // 可以根据需要添加tab切换逻辑\n    },\n    getUserInitial(username) {\n      return username ? username.charAt(0).toUpperCase() : 'U'\n    },\n    formatDate(dateString) {\n      if (!dateString) return ''\n      const date = new Date(dateString)\n      return date.toLocaleString('zh-CN')\n    },\n    calculateSuccessRate() {\n      if (this.userStats.tradeTotalCount === 0) return 0\n      return Math.round((this.userStats.tradeSuccessCount / this.userStats.tradeTotalCount) * 100)\n    },\n    async submitProfile() {\n      this.$refs.profileFormRef.validate(async (valid) => {\n        if (valid) {\n          this.submitting = true\n          try {\n            await userAPI.updateUserInfo(this.profileForm)\n            this.$message.success('个人信息更新成功')\n            // 重新加载用户信息\n            this.loadUserInfo()\n          } catch (error) {\n            this.$message.error('更新失败，请重试')\n          } finally {\n            this.submitting = false\n          }\n        }\n      })\n    },\n    resetProfile() {\n      this.$refs.profileFormRef.resetFields()\n    },\n    async submitPassword() {\n      this.$refs.passwordFormRef.validate(async (valid) => {\n        if (valid) {\n          this.submittingPassword = true\n          try {\n            await userAPI.changePassword(this.passwordForm)\n            this.$message.success('密码修改成功，请重新登录')\n            this.$router.push('/login')\n          } catch (error) {\n            this.$message.error(error.response?.data?.message || '密码修改失败，请检查原密码是否正确')\n          } finally {\n            this.submittingPassword = false\n          }\n        }\n      })\n    },\n    resetPassword() {\n      this.$refs.passwordFormRef.resetFields()\n    },\n    handleAvatarChange(file) {\n      this.avatarFile = file.raw\n      this.previewAvatar = URL.createObjectURL(file.raw)\n    },\n    async uploadAvatar() {\n      // 这个方法被覆盖，实际上传在confirmAvatarUpload中处理\n    },\n    async confirmAvatarUpload() {\n      if (!this.avatarFile) {\n        this.$message.warning('请选择要上传的头像')\n        return\n      }\n      \n      this.uploadingAvatar = true\n      try {\n        const formData = new FormData()\n        formData.append('avatar', this.avatarFile)\n        \n        const response = await userAPI.uploadAvatar(formData)\n        \n        this.$message.success('头像上传成功')\n        this.showAvatarUpload = false\n        // 更新用户信息\n        this.userInfo.avatar = response.avatarUrl\n      } catch (error) {\n        this.$message.error('头像上传失败，请重试')\n      } finally {\n        this.uploadingAvatar = false\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.user-center-container {\n  padding: 0;\n}\n\n.center-card {\n  max-width: 1000px;\n  margin: 0 auto;\n}\n\n.card-header {\n  font-size: 18px;\n  font-weight: 500;\n  color: #303133;\n}\n\n.tabs-container {\n  margin-top: 20px;\n}\n\n/* 个人信息样式 */\n.profile-content {\n  padding: 20px 0;\n}\n\n.profile-header {\n  display: flex;\n  align-items: center;\n  padding-bottom: 30px;\n  border-bottom: 1px solid #EBEEF5;\n  margin-bottom: 30px;\n}\n\n.avatar-section {\n  position: relative;\n  margin-right: 40px;\n}\n\n.change-avatar-btn {\n  position: absolute;\n  bottom: -25px;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 100px;\n}\n\n.user-info h2 {\n  margin: 0 0 10px 0;\n  font-size: 24px;\n  font-weight: 500;\n}\n\n.user-info p {\n  margin: 5px 0;\n  color: #606266;\n}\n\n.profile-form {\n  max-width: 600px;\n}\n\n/* 安全设置样式 */\n.security-content {\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n}\n\n.security-item {\n  border-radius: 4px;\n}\n\n.security-item-header {\n  font-size: 16px;\n  font-weight: 500;\n  color: #303133;\n}\n\n.password-form {\n  max-width: 600px;\n}\n\n.security-tips {\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n}\n\n/* 头像上传样式 */\n.avatar-uploader {\n  display: flex;\n  justify-content: center;\n  margin: 20px 0;\n}\n\n.avatar {\n  width: 150px;\n  height: 150px;\n  object-fit: cover;\n}\n\n.avatar-uploader-icon {\n  width: 150px;\n  height: 150px;\n  line-height: 150px;\n  font-size: 40px;\n  color: #C0C4CC;\n  border: 1px dashed #DCDFE6;\n  border-radius: 4px;\n}\n\n.dialog-footer {\n  display: flex;\n  justify-content: flex-end;\n  gap: 10px;\n  margin-top: 20px;\n}\n\n/* 响应式设计 */\n@media (max-width: 768px) {\n  .center-card {\n    max-width: 100%;\n  }\n  \n  .profile-header {\n    flex-direction: column;\n    align-items: center;\n    text-align: center;\n  }\n  \n  .avatar-section {\n    margin-right: 0;\n    margin-bottom: 30px;\n  }\n  \n  .profile-form,\n  .password-form {\n    max-width: 100%;\n  }\n  \n  .el-form {\n    width: 80px;\n  }\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}