{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"register-container\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_form = _resolveComponent(\"el-form\");\n  const _component_el_card = _resolveComponent(\"el-card\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_el_card, {\n    class: \"register-card\"\n  }, {\n    header: _withCtx(() => [...(_cache[6] || (_cache[6] = [_createElementVNode(\"div\", {\n      class: \"register-title\"\n    }, [_createElementVNode(\"h2\", null, \"校园二手商品交易系统\"), _createElementVNode(\"p\", null, \"用户注册\")], -1)]))]),\n    default: _withCtx(() => [_createVNode(_component_el_form, {\n      model: $data.registerForm,\n      rules: $data.registerRules,\n      ref: \"registerFormRef\",\n      \"label-width\": \"80px\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_form_item, {\n        label: \"用户名\",\n        prop: \"username\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: $data.registerForm.username,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.registerForm.username = $event),\n          placeholder: \"请输入用户名\",\n          \"prefix-icon\": \"el-icon-user\"\n        }, null, 8, [\"modelValue\"])]),\n        _: 1\n      }), _createVNode(_component_el_form_item, {\n        label: \"密码\",\n        prop: \"password\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: $data.registerForm.password,\n          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.registerForm.password = $event),\n          type: \"password\",\n          placeholder: \"请输入密码\",\n          \"prefix-icon\": \"el-icon-lock\",\n          \"show-password\": \"\"\n        }, null, 8, [\"modelValue\"])]),\n        _: 1\n      }), _createVNode(_component_el_form_item, {\n        label: \"确认密码\",\n        prop: \"confirmPassword\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: $data.registerForm.confirmPassword,\n          \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.registerForm.confirmPassword = $event),\n          type: \"password\",\n          placeholder: \"请确认密码\",\n          \"prefix-icon\": \"el-icon-lock\",\n          \"show-password\": \"\"\n        }, null, 8, [\"modelValue\"])]),\n        _: 1\n      }), _createVNode(_component_el_form_item, {\n        label: \"姓名\",\n        prop: \"name\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: $data.registerForm.name,\n          \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.registerForm.name = $event),\n          placeholder: \"请输入真实姓名\",\n          \"prefix-icon\": \"el-icon-user-solid\"\n        }, null, 8, [\"modelValue\"])]),\n        _: 1\n      }), _createVNode(_component_el_form_item, {\n        label: \"手机号\",\n        prop: \"phone\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: $data.registerForm.phone,\n          \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.registerForm.phone = $event),\n          placeholder: \"请输入手机号\",\n          \"prefix-icon\": \"el-icon-phone\"\n        }, null, 8, [\"modelValue\"])]),\n        _: 1\n      }), _createVNode(_component_el_form_item, {\n        label: \"邮箱\",\n        prop: \"email\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: $data.registerForm.email,\n          \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.registerForm.email = $event),\n          type: \"email\",\n          placeholder: \"请输入邮箱\",\n          \"prefix-icon\": \"el-icon-message\"\n        }, null, 8, [\"modelValue\"])]),\n        _: 1\n      }), _createVNode(_component_el_form_item, null, {\n        default: _withCtx(() => [_createVNode(_component_el_button, {\n          type: \"primary\",\n          onClick: $options.handleRegister,\n          loading: $data.loading,\n          class: \"register-btn\"\n        }, {\n          default: _withCtx(() => [...(_cache[7] || (_cache[7] = [_createTextVNode(\"注册\", -1)]))]),\n          _: 1\n        }, 8, [\"onClick\", \"loading\"]), _createVNode(_component_el_button, {\n          type: \"text\",\n          onClick: $options.goToLogin\n        }, {\n          default: _withCtx(() => [...(_cache[8] || (_cache[8] = [_createTextVNode(\"已有账号？去登录\", -1)]))]),\n          _: 1\n        }, 8, [\"onClick\"])]),\n        _: 1\n      })]),\n      _: 1\n    }, 8, [\"model\", \"rules\"])]),\n    _: 1\n  })]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_el_card","header","_withCtx","_cache","_createElementVNode","_component_el_form","model","$data","registerForm","rules","registerRules","ref","_component_el_form_item","label","prop","_component_el_input","username","$event","placeholder","password","type","confirmPassword","name","phone","email","_component_el_button","onClick","$options","handleRegister","loading","goToLogin"],"sources":["D:\\文档\\学习\\专业课实验报告书\\专业选修\\软件工程\\version1\\frontend\\src\\views\\Register.vue"],"sourcesContent":["<template>\n  <div class=\"register-container\">\n    <el-card class=\"register-card\">\n      <template #header>\n        <div class=\"register-title\">\n          <h2>校园二手商品交易系统</h2>\n          <p>用户注册</p>\n        </div>\n      </template>\n      <el-form :model=\"registerForm\" :rules=\"registerRules\" ref=\"registerFormRef\" label-width=\"80px\">\n        <el-form-item label=\"用户名\" prop=\"username\">\n          <el-input v-model=\"registerForm.username\" placeholder=\"请输入用户名\" prefix-icon=\"el-icon-user\" />\n        </el-form-item>\n        <el-form-item label=\"密码\" prop=\"password\">\n          <el-input v-model=\"registerForm.password\" type=\"password\" placeholder=\"请输入密码\" prefix-icon=\"el-icon-lock\" show-password />\n        </el-form-item>\n        <el-form-item label=\"确认密码\" prop=\"confirmPassword\">\n          <el-input v-model=\"registerForm.confirmPassword\" type=\"password\" placeholder=\"请确认密码\" prefix-icon=\"el-icon-lock\" show-password />\n        </el-form-item>\n        <el-form-item label=\"姓名\" prop=\"name\">\n          <el-input v-model=\"registerForm.name\" placeholder=\"请输入真实姓名\" prefix-icon=\"el-icon-user-solid\" />\n        </el-form-item>\n        <el-form-item label=\"手机号\" prop=\"phone\">\n          <el-input v-model=\"registerForm.phone\" placeholder=\"请输入手机号\" prefix-icon=\"el-icon-phone\" />\n        </el-form-item>\n        <el-form-item label=\"邮箱\" prop=\"email\">\n          <el-input v-model=\"registerForm.email\" type=\"email\" placeholder=\"请输入邮箱\" prefix-icon=\"el-icon-message\" />\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"handleRegister\" :loading=\"loading\" class=\"register-btn\">注册</el-button>\n          <el-button type=\"text\" @click=\"goToLogin\">已有账号？去登录</el-button>\n        </el-form-item>\n      </el-form>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport { userAPI } from '../api'\n\nexport default {\n  name: 'Register',\n  data() {\n    return {\n      registerForm: {\n        username: '',\n        password: '',\n        confirmPassword: '',\n        name: '',\n        phone: '',\n        email: ''\n      },\n      registerRules: {\n        username: [\n          { required: true, message: '请输入用户名', trigger: 'blur' },\n          { min: 3, max: 20, message: '用户名长度在 3 到 20 个字符', trigger: 'blur' }\n        ],\n        password: [\n          { required: true, message: '请输入密码', trigger: 'blur' },\n          { min: 6, message: '密码长度不能少于 6 个字符', trigger: 'blur' }\n        ],\n        confirmPassword: [\n          { required: true, message: '请确认密码', trigger: 'blur' },\n          { validator: this.validatePassword, trigger: 'blur' }\n        ],\n        name: [\n          { required: true, message: '请输入姓名', trigger: 'blur' }\n        ],\n        phone: [\n          { required: true, message: '请输入手机号', trigger: 'blur' },\n          { pattern: /^1[3-9]\\d{9}$/, message: '请输入正确的手机号格式', trigger: 'blur' }\n        ],\n        email: [\n          { required: true, message: '请输入邮箱', trigger: 'blur' },\n          { type: 'email', message: '请输入正确的邮箱格式', trigger: 'blur' }\n        ]\n      },\n      loading: false\n    }\n  },\n  methods: {\n    // 验证两次密码是否一致\n    validatePassword(rule, value, callback) {\n      if (value !== this.registerForm.password) {\n        callback(new Error('两次输入的密码不一致'))\n      } else {\n        callback()\n      }\n    },\n    async handleRegister() {\n      this.$refs.registerFormRef.validate(async (valid) => {\n        if (valid) {\n          this.loading = true\n          try {\n            const { confirmPassword, ...formData } = this.registerForm\n            await userAPI.register(formData)\n            this.$message.success('注册成功，请登录')\n            this.$router.push('/login')\n          } catch (error) {\n            this.$message.error(error.response?.data?.message || '注册失败，请重试')\n          } finally {\n            this.loading = false\n          }\n        }\n      })\n    },\n    goToLogin() {\n      this.$router.push('/login')\n    }\n  }\n}\n</script>\n\n<style scoped>\n.register-container {\n  min-height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  padding: 20px;\n}\n\n.register-card {\n  width: 100%;\n  max-width: 500px;\n  border-radius: 10px;\n  overflow: hidden;\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n}\n\n.register-title {\n  text-align: center;\n  margin-bottom: 20px;\n}\n\n.register-title h2 {\n  color: #303133;\n  font-size: 24px;\n  margin-bottom: 10px;\n}\n\n.register-title p {\n  color: #606266;\n  font-size: 16px;\n}\n\n.register-btn {\n  width: 100%;\n  height: 40px;\n  font-size: 16px;\n}\n\n.el-form {\n  padding: 0 20px 20px;\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}