{"ast":null,"code":"import { userAPI } from '../api';\nexport default {\n  name: 'Register',\n  data() {\n    return {\n      registerForm: {\n        username: '',\n        password: '',\n        confirmPassword: '',\n        name: '',\n        phone: '',\n        email: ''\n      },\n      registerRules: {\n        username: [{\n          required: true,\n          message: '请输入用户名',\n          trigger: 'blur'\n        }, {\n          min: 3,\n          max: 20,\n          message: '用户名长度在 3 到 20 个字符',\n          trigger: 'blur'\n        }],\n        password: [{\n          required: true,\n          message: '请输入密码',\n          trigger: 'blur'\n        }, {\n          min: 6,\n          message: '密码长度不能少于 6 个字符',\n          trigger: 'blur'\n        }],\n        confirmPassword: [{\n          required: true,\n          message: '请确认密码',\n          trigger: 'blur'\n        }, {\n          validator: this.validatePassword,\n          trigger: 'blur'\n        }],\n        name: [{\n          required: true,\n          message: '请输入姓名',\n          trigger: 'blur'\n        }],\n        phone: [{\n          required: true,\n          message: '请输入手机号',\n          trigger: 'blur'\n        }, {\n          pattern: /^1[3-9]\\d{9}$/,\n          message: '请输入正确的手机号格式',\n          trigger: 'blur'\n        }],\n        email: [{\n          required: true,\n          message: '请输入邮箱',\n          trigger: 'blur'\n        }, {\n          type: 'email',\n          message: '请输入正确的邮箱格式',\n          trigger: 'blur'\n        }]\n      },\n      loading: false\n    };\n  },\n  methods: {\n    // 验证两次密码是否一致\n    validatePassword(rule, value, callback) {\n      if (value !== this.registerForm.password) {\n        callback(new Error('两次输入的密码不一致'));\n      } else {\n        callback();\n      }\n    },\n    async handleRegister() {\n      this.$refs.registerFormRef.validate(async valid => {\n        if (valid) {\n          this.loading = true;\n          try {\n            const {\n              confirmPassword,\n              ...formData\n            } = this.registerForm;\n            await userAPI.register(formData);\n            this.$message.success('注册成功，请登录');\n            this.$router.push('/login');\n          } catch (error) {\n            this.$message.error(error.response?.data?.message || '注册失败，请重试');\n          } finally {\n            this.loading = false;\n          }\n        }\n      });\n    },\n    goToLogin() {\n      this.$router.push('/login');\n    }\n  }\n};","map":{"version":3,"names":["userAPI","name","data","registerForm","username","password","confirmPassword","phone","email","registerRules","required","message","trigger","min","max","validator","validatePassword","pattern","type","loading","methods","rule","value","callback","Error","handleRegister","$refs","registerFormRef","validate","valid","formData","register","$message","success","$router","push","error","response","goToLogin"],"sources":["D:\\文档\\学习\\专业课实验报告书\\专业选修\\软件工程\\version1\\frontend\\src\\views\\Register.vue"],"sourcesContent":["<template>\n  <div class=\"register-container\">\n    <el-card class=\"register-card\">\n      <template #header>\n        <div class=\"register-title\">\n          <h2>校园二手商品交易系统</h2>\n          <p>用户注册</p>\n        </div>\n      </template>\n      <el-form :model=\"registerForm\" :rules=\"registerRules\" ref=\"registerFormRef\" label-width=\"80px\">\n        <el-form-item label=\"用户名\" prop=\"username\">\n          <el-input v-model=\"registerForm.username\" placeholder=\"请输入用户名\" prefix-icon=\"el-icon-user\" />\n        </el-form-item>\n        <el-form-item label=\"密码\" prop=\"password\">\n          <el-input v-model=\"registerForm.password\" type=\"password\" placeholder=\"请输入密码\" prefix-icon=\"el-icon-lock\" show-password />\n        </el-form-item>\n        <el-form-item label=\"确认密码\" prop=\"confirmPassword\">\n          <el-input v-model=\"registerForm.confirmPassword\" type=\"password\" placeholder=\"请确认密码\" prefix-icon=\"el-icon-lock\" show-password />\n        </el-form-item>\n        <el-form-item label=\"姓名\" prop=\"name\">\n          <el-input v-model=\"registerForm.name\" placeholder=\"请输入真实姓名\" prefix-icon=\"el-icon-user-solid\" />\n        </el-form-item>\n        <el-form-item label=\"手机号\" prop=\"phone\">\n          <el-input v-model=\"registerForm.phone\" placeholder=\"请输入手机号\" prefix-icon=\"el-icon-phone\" />\n        </el-form-item>\n        <el-form-item label=\"邮箱\" prop=\"email\">\n          <el-input v-model=\"registerForm.email\" type=\"email\" placeholder=\"请输入邮箱\" prefix-icon=\"el-icon-message\" />\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"handleRegister\" :loading=\"loading\" class=\"register-btn\">注册</el-button>\n          <el-button type=\"text\" @click=\"goToLogin\">已有账号？去登录</el-button>\n        </el-form-item>\n      </el-form>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport { userAPI } from '../api'\n\nexport default {\n  name: 'Register',\n  data() {\n    return {\n      registerForm: {\n        username: '',\n        password: '',\n        confirmPassword: '',\n        name: '',\n        phone: '',\n        email: ''\n      },\n      registerRules: {\n        username: [\n          { required: true, message: '请输入用户名', trigger: 'blur' },\n          { min: 3, max: 20, message: '用户名长度在 3 到 20 个字符', trigger: 'blur' }\n        ],\n        password: [\n          { required: true, message: '请输入密码', trigger: 'blur' },\n          { min: 6, message: '密码长度不能少于 6 个字符', trigger: 'blur' }\n        ],\n        confirmPassword: [\n          { required: true, message: '请确认密码', trigger: 'blur' },\n          { validator: this.validatePassword, trigger: 'blur' }\n        ],\n        name: [\n          { required: true, message: '请输入姓名', trigger: 'blur' }\n        ],\n        phone: [\n          { required: true, message: '请输入手机号', trigger: 'blur' },\n          { pattern: /^1[3-9]\\d{9}$/, message: '请输入正确的手机号格式', trigger: 'blur' }\n        ],\n        email: [\n          { required: true, message: '请输入邮箱', trigger: 'blur' },\n          { type: 'email', message: '请输入正确的邮箱格式', trigger: 'blur' }\n        ]\n      },\n      loading: false\n    }\n  },\n  methods: {\n    // 验证两次密码是否一致\n    validatePassword(rule, value, callback) {\n      if (value !== this.registerForm.password) {\n        callback(new Error('两次输入的密码不一致'))\n      } else {\n        callback()\n      }\n    },\n    async handleRegister() {\n      this.$refs.registerFormRef.validate(async (valid) => {\n        if (valid) {\n          this.loading = true\n          try {\n            const { confirmPassword, ...formData } = this.registerForm\n            await userAPI.register(formData)\n            this.$message.success('注册成功，请登录')\n            this.$router.push('/login')\n          } catch (error) {\n            this.$message.error(error.response?.data?.message || '注册失败，请重试')\n          } finally {\n            this.loading = false\n          }\n        }\n      })\n    },\n    goToLogin() {\n      this.$router.push('/login')\n    }\n  }\n}\n</script>\n\n<style scoped>\n.register-container {\n  min-height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  padding: 20px;\n}\n\n.register-card {\n  width: 100%;\n  max-width: 500px;\n  border-radius: 10px;\n  overflow: hidden;\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n}\n\n.register-title {\n  text-align: center;\n  margin-bottom: 20px;\n}\n\n.register-title h2 {\n  color: #303133;\n  font-size: 24px;\n  margin-bottom: 10px;\n}\n\n.register-title p {\n  color: #606266;\n  font-size: 16px;\n}\n\n.register-btn {\n  width: 100%;\n  height: 40px;\n  font-size: 16px;\n}\n\n.el-form {\n  padding: 0 20px 20px;\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}